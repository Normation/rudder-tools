= Change logs for Rudder 6.2

== [Private] Rudder 6.2.20 (2022-10-12)

=== Changes

[WARNING]
====

This version is only available for extended support subscription

====
    

==== Generic methods

* Add documentation for package_present update cache
    (https://issues.rudder.io/issues/21412[#21412])

=== Bug fixes

==== Security

* Fixed: CVE in Jetty 9.4.32 Rudder 6.2
    (https://issues.rudder.io/issues/21888[#21888])
* Fixed: CVE in nuprocess 2.03 and below
    (https://issues.rudder.io/issues/21893[#21893])

==== Agent

* Fixed: When cf-serverd starts it can kill an unrelated process
    (https://issues.rudder.io/issues/21100[#21100])
* Fixed: rudder agent check may not restart cf-execd if an agent is frozen
    (https://issues.rudder.io/issues/21774[#21774])

==== Web - UI & UX

* Fixed: Unable to sort on property in list of nodes tab
    (https://issues.rudder.io/issues/21503[#21503])

==== Architecture - Dependencies

* Fixed: Update scala-lib version due to CVE2022-36944
    (https://issues.rudder.io/issues/21869[#21869])

==== Architecture - Internal libs

* Fixed: Syntax errors in scala files
    (https://issues.rudder.io/issues/21748[#21748])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== [Private] Rudder 6.2.19 (2022-09-05)

=== Changes

[WARNING]
====

This version is only available for extended support subscription

====
 

=== Bug fixes

==== Web - Config management

* Fixed: missing list of impacted rules when creating a directive and applying it to a rule
    (https://issues.rudder.io/issues/21671[#21671])

==== API

* Fixed: API documentation on how to query node is invalid
    (https://issues.rudder.io/issues/21690[#21690])

==== Web - UI & UX

* Fixed: rollback button in even log can be clicked several time in a row and error are stacked in other screens
    (https://issues.rudder.io/issues/21429[#21429])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== [Private] Rudder 6.2.18 (2022-08-31)

=== Changes

[WARNING]
====

This version is only available for extended support subscription

====
    

=== Bug fixes

==== Web - UI & UX

* Fixed: Delete group category popup and directive creation popup are not closing
    (https://issues.rudder.io/issues/21666[#21666])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

Rudder 6.2 is currently a maintained version of Rudder.

==  Rudder 6.2.17 (2022-08-25)

=== Changes


==== Security

* Skip CVE-2022-31197 in checks
    (https://issues.rudder.io/issues/21602[#21602])

=== Bug fixes

==== Web - UI & UX

* Fixed: when validating change in directive, a popup appear, but the background is only half grayed out
    (https://issues.rudder.io/issues/18575[#18575])
* Fixed: Filter in URL doest work on tab list of nodes
    (https://issues.rudder.io/issues/21558[#21558])

==== Relay server or API

* Fixed: Unsoundness in "owning_ref"
    (https://issues.rudder.io/issues/21538[#21538])

==== Web - Technique editor

* Fixed: Cannot delete technique in the technique editor if it contains a space in its name
    (https://issues.rudder.io/issues/21491[#21491])

==== System integration

* Fixed: Correct BOM file in ps1.st used in test
    (https://issues.rudder.io/issues/21498[#21498])

==== Web - Config management

* Fixed: Concurrent delete of policy backup directory can lead to useless error
    (https://issues.rudder.io/issues/21482[#21482])

==== Documentation

* Fixed: improve contributing doc to state how to generate inventories
    (https://issues.rudder.io/issues/21476[#21476])

==== Generic methods

* Fixed: rudder agent run man git-stash
    (https://issues.rudder.io/issues/21525[#21525])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 6.2.16 (2022-07-26)

=== Changes


=== Bug fixes

==== Security

* Fixed: Update embedded openssl to 1.1.1q
    (https://issues.rudder.io/issues/21360[#21360])
* Fixed: URL with "%3B" (ie ';') leads to a stacktrace
    (https://issues.rudder.io/issues/21463[#21463])
* Fixed: JSESSIONID cookie should have a SameSite policy
    (https://issues.rudder.io/issues/21445[#21445])

==== Performance and scalability

* Fixed: API to fetch nodes + software times out on large instance
    (https://issues.rudder.io/issues/21241[#21241])

==== Web - Compliance & node report

* Fixed: In HTTPS mode, we may have errors in logs about duplicate messages that are totally legit
    (https://issues.rudder.io/issues/21352[#21352])

==== Agent

* Fixed: Deprecation warning with package methods on Ubuntu 22.04 LTS
    (https://issues.rudder.io/issues/21206[#21206])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.


==  Rudder 6.2.15 (2022-06-28)

=== Changes


=== Bug fixes

==== Packaging

* Fixed: parsing of system fusioninventory is invalid
    (https://issues.rudder.io/issues/21211[#21211])

==== Web - Nodes & inventories

* Fixed: Using '{' in node property lead to error
    (https://issues.rudder.io/issues/21322[#21322])

==== Relay server or API

* Fixed: Allow .ocs files as inventory
    (https://issues.rudder.io/issues/21270[#21270])
* Fixed: Missing encoding of postgresql password
    (https://issues.rudder.io/issues/21203[#21203])
* Fixed: Query seems to be ignored for pendings nodes
    (https://issues.rudder.io/issues/20281[#20281])

==== Security

* Fixed: Ignore CVE  CVE-2022-22978 that will not be fixed in 6.1/6.2 dependencies
    (https://issues.rudder.io/issues/21263[#21263])

==== Architecture - Internal libs

* Fixed: Query string is not correctly parsed in test API framework
    (https://issues.rudder.io/issues/21253[#21253])

==== Web - Technique editor

* Fixed: When a technique is not in the active technique tree, it can't be deleted in editor
    (https://issues.rudder.io/issues/21119[#21119])

==== Web - UI & UX

* Fixed: Missing icon in technical logs for error messages
    (https://issues.rudder.io/issues/18918[#18918])

==== Generic methods

* Fixed: The mustache template examples in our documentation do not respect the mustache standard
    (https://issues.rudder.io/issues/21286[#21286])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.




== [Private] Rudder 6.2.14 (2022-06-01)

=== Changes

[WARNING]
====

This version is only available for extended support subscription

====
    

=== Bug fixes

==== Documentation

* Fixed: Fix the relayd logging documentation
    (https://issues.rudder.io/issues/20985[#20985])

==== Miscellaneous

* Fixed: Document that port 5309 can be disable in node configuration
    (https://issues.rudder.io/issues/20982[#20982])

==== CI

* Fixed: Race condition between elm builds
    (https://issues.rudder.io/issues/21156[#21156])
* Fixed: Ci does not properly clean its test files
    (https://issues.rudder.io/issues/21178[#21178])
* Fixed: Improve cleanup of root-owned files in tests
    (https://issues.rudder.io/issues/21130[#21130])

==== Security

* Fixed: security checks fails because of request to sonatype oss index
    (https://issues.rudder.io/issues/21179[#21179])
* Fixed: Fix some cve in dependencies 
    (https://issues.rudder.io/issues/21169[#21169])
* Fixed: Ignore some CVE that cannot be fixed in 6.1 branch
    (https://issues.rudder.io/issues/21103[#21103])
* Fixed: Ignore some CVE that cannot be fixed in 6.1 branch
    (https://issues.rudder.io/issues/21103[#21103])
* Fixed: Don't display oauth/oidc client secret in logs
    (https://issues.rudder.io/issues/21077[#21077])
* Fixed: Ignore CVEs for spring-ldap-core
    (https://issues.rudder.io/issues/21027[#21027])
* Fixed: Update spring and logback version because of new CVE
    (https://issues.rudder.io/issues/21022[#21022])

==== Web - Nodes & inventories

* Fixed: Criteria not working when filter on IP address and GroupID in group page
    (https://issues.rudder.io/issues/21144[#21144])
* Fixed: Sometime inventory processing is not done when inventory is receveived
    (https://issues.rudder.io/issues/19585[#19585])
* Fixed: List of nodes by version does not include windows nodes
    (https://issues.rudder.io/issues/17728[#17728])
* Fixed: Two same envvar modulo a space at beginning of name leads to LDAP error when saving inventory
    (https://issues.rudder.io/issues/20984[#20984])

==== API

* Fixed: Rudder incorrectly parse URL with a '+' in the path into spaces
    (https://issues.rudder.io/issues/20943[#20943])
* Fixed: Update api doc tool chain
    (https://issues.rudder.io/issues/21073[#21073])
* Fixed: Generation not started when modifying authorized network via API
    (https://issues.rudder.io/issues/20979[#20979])

==== Performance and scalability

* Fixed: The way groups are fetched when responding to API compliance is inefficient
    (https://issues.rudder.io/issues/21028[#21028])

==== Techniques

* Fixed: wrong spelling of wily in apt package manager settings
    (https://issues.rudder.io/issues/21113[#21113])

==== Generic methods

* Fixed: multiple calls to file_from_template_jinja2 in audit fails
    (https://issues.rudder.io/issues/20913[#20913])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.


==  Rudder 6.2.13 (2022-04-08)

=== Changes


==== Documentation

* Windows support should be documented as the other agents
    (https://issues.rudder.io/issues/20835[#20835])
* Add a compatibility table for agent relay server in the documentation
    (https://issues.rudder.io/issues/20621[#20621])
* Document how to automatically synchronize technique resources from an external repository
    (https://issues.rudder.io/issues/20495[#20495])

==== Architecture - Internal libs

* Add name for spring security main auth configuration bean to be used by oauth2 
    (https://issues.rudder.io/issues/20886[#20886])

==== Web - Nodes & inventories

* kernel version doesn't show in the node page
    (https://issues.rudder.io/issues/20721[#20721])

==== Techniques

* Reformat all the statements in userManagement technique
    (https://issues.rudder.io/issues/20878[#20878])

==== CI

* Dockerize technique tests
    (https://issues.rudder.io/issues/20386[#20386])

==== Generic methods - File Management

* Improve File from HTTP server method documentation
    (https://issues.rudder.io/issues/20810[#20810])

=== Bug fixes

==== Packaging

* Fixed: rudder-webapp requires rsync to build for RHEL
    (https://issues.rudder.io/issues/20974[#20974])
* Fixed: rudder-agent-postinst doesn't close file descriptors anymore
    (https://issues.rudder.io/issues/20522[#20522])
* Fixed: Separate openldap cache between nightly and release builds - 6.2
    (https://issues.rudder.io/issues/20450[#20450])
* Fixed: Update openssl to 1.1.1m
    (https://issues.rudder.io/issues/20428[#20428])

==== Agent

* Fixed: Lower the log level of the "Skipping adding class [...] as its name is equal or longer than 1024" message
    (https://issues.rudder.io/issues/20960[#20960])
* Fixed: Improve agent-side messages when download is refused
    (https://issues.rudder.io/issues/20521[#20521])

==== Security

* Fixed: Update embedded openssl to 1.1.1n
    (https://issues.rudder.io/issues/20894[#20894])
* Fixed: Update jdbc postgres driver to 4.2.25 for CVE-2022-21724
    (https://issues.rudder.io/issues/20969[#20969])
* Fixed: Vulnerability in the regex crate
    (https://issues.rudder.io/issues/20872[#20872])
* Fixed: Data race in thread-local relayd dependency
    (https://issues.rudder.io/issues/20639[#20639])
* Fixed: Update spring-core
    (https://issues.rudder.io/issues/20571[#20571])
* Fixed: Use a proper CSPRNG to generate API tokens
    (https://issues.rudder.io/issues/20512[#20512])

==== Documentation

* Fixed: Correct doc on windows KB update
    (https://issues.rudder.io/issues/20891[#20891])
* Fixed: backup/restore doc is incomplete
    (https://issues.rudder.io/issues/20888[#20888])
* Fixed: Documentation about properties usage on windows node uses an incorrect syntax
    (https://issues.rudder.io/issues/20731[#20731])
* Fixed: apt-key is deprecated
    (https://issues.rudder.io/issues/20518[#20518])
* Fixed: API : URL ending with / are seen like /[empty string parameter]
    (https://issues.rudder.io/issues/3881[#3881])
* Fixed: Add a complex example of node search API request
    (https://issues.rudder.io/issues/20577[#20577])
* Fixed: documentation of method schedule_ is broken
    (https://issues.rudder.io/issues/20605[#20605])

==== Miscellaneous

* Fixed: Show more details in exception when parsing an invalid technique version
    (https://issues.rudder.io/issues/20976[#20976])
* Fixed: Update spring to 5.2.20 to fix CVE-2022-22965
    (https://issues.rudder.io/issues/20972[#20972])
* Fixed: Update spring to 5.2.20 to fix CVE-2022-22965
    (https://issues.rudder.io/issues/20972[#20972])
* Fixed: Compilation warning on branch 6.2
    (https://issues.rudder.io/issues/20874[#20874])
* Fixed: In 6.2.10 the plugin can not uninstall itself in some cases
    (https://issues.rudder.io/issues/20392[#20392])

==== Web - Config management

* Fixed: Starting policy generation by hand fails if node-configuration-hashes.json 
    (https://issues.rudder.io/issues/20926[#20926])

==== Web - Technique editor

* Fixed: When editing files with the technique editor resources manager, newlines at the end of file are trimmed
    (https://issues.rudder.io/issues/19319[#19319])
* Fixed: Suppressed techniques coming back to life forever
    (https://issues.rudder.io/issues/19006[#19006])

==== API

* Fixed: Broken allowed network curl example
    (https://issues.rudder.io/issues/20844[#20844])
* Fixed: No clear error message when calling api with curl and data are not url-encoded
    (https://issues.rudder.io/issues/10915[#10915])
* Fixed: State is missing from node api
    (https://issues.rudder.io/issues/20582[#20582])
* Fixed: It is impossible to read group properties with a read-only account
    (https://issues.rudder.io/issues/20567[#20567])
* Fixed: Compliance api miss audit state
    (https://issues.rudder.io/issues/20531[#20531])

==== Architecture - Internal libs

* Fixed: Duplicate classes RudderUserDetails
    (https://issues.rudder.io/issues/20734[#20734])

==== CI

* Fixed: Don't skip tests in webapp publish
    (https://issues.rudder.io/issues/20812[#20812])
* Fixed: Missing clean in webapp publish
    (https://issues.rudder.io/issues/20772[#20772])

==== Performance and scalability

* Fixed: Improve dynamic group computation speed and fix inverted searched
    (https://issues.rudder.io/issues/20716[#20716])
* Fixed: We are recreating ldap object while we could duplicate them, leading to suboptimal perf
    (https://issues.rudder.io/issues/20535[#20535])

==== Web - Nodes & inventories

* Fixed: List of directive for the pending node is invalid
    (https://issues.rudder.io/issues/20736[#20736])

==== Web - Compliance & node report

* Fixed: when there's a disabled directive in a rule, it's really hard to see
    (https://issues.rudder.io/issues/18672[#18672])
* Fixed: when there's a disabled directive in a rule, it's really hard to see
    (https://issues.rudder.io/issues/18672[#18672])
* Fixed: Compliance bar of a node with no policy applied is red / error 100%
    (https://issues.rudder.io/issues/20558[#20558])
* Fixed: error on system status tabs when there are missing reports
    (https://issues.rudder.io/issues/20474[#20474])

==== Architecture - Dependencies

* Fixed: Update xerces version 
    (https://issues.rudder.io/issues/20676[#20676])

==== Techniques

* Fixed: post hook for copyGitFile on windows don't report
    (https://issues.rudder.io/issues/20909[#20909])
* Fixed: Unexpected reporting in userManagement in audit when user is not present
    (https://issues.rudder.io/issues/19427[#19427])
* Fixed: Patch dsc techniques according to #20830
    (https://issues.rudder.io/issues/20832[#20832])
* Fixed: SNMP installation uses deprecated package method, and it reports an error even though it works
    (https://issues.rudder.io/issues/16694[#16694])
* Fixed: Confusing log message in cron technique hook
    (https://issues.rudder.io/issues/20515[#20515])

==== Generic methods

* Fixed: Variable string from command fails when command contains control structures
    (https://issues.rudder.io/issues/20128[#20128])
* Fixed: All classes manipulations are ineffeccient because there are repeated 3 times
    (https://issues.rudder.io/issues/20885[#20885])
* Fixed: No report from sysctl generic method
    (https://issues.rudder.io/issues/20612[#20612])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* I C

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.12 (2021-12-17)

=== Changes

==== Documentation

* Add debian 11 server support to documentation
    (https://issues.rudder.io/issues/20379[#20379])
* Update supported platform list in documentation
    (https://issues.rudder.io/issues/20125[#20125])
* Document windows update technique
    (https://issues.rudder.io/issues/20265[#20265])
* Dockerify api-doc test, build and publication
    (https://issues.rudder.io/issues/20272[#20272])

==== CI

* Discard old builds
    (https://issues.rudder.io/issues/20408[#20408])
* Test ncf in docker
    (https://issues.rudder.io/issues/20374[#20374])

==== Relay server or API

* Add relayd man page build to Jenkinsfile
    (https://issues.rudder.io/issues/20327[#20327])

==== System techniques

* It's not possible to make the agent listen on a specific interface
    (https://issues.rudder.io/issues/20113[#20113])

=== Bug fixes

==== Security

* Fixed: Do not display the jetty version number
    (https://issues.rudder.io/issues/19163[#19163])
* Fixed: Upgrade logback version for LOGBACK-1591 / JNDI
    (https://issues.rudder.io/issues/20421[#20421])

==== Packaging

* Fixed: rudder-webapp 6.2 on debian11 generate a dbgsym package
    (https://issues.rudder.io/issues/20376[#20376])

==== Web - UI & UX

* Fixed: Upgrade jquery to 3.6.0
    (https://issues.rudder.io/issues/20430[#20430])

==== Relay server or API

* Fixed: Query seems to be ignored for pendings nodes
    (https://issues.rudder.io/issues/20281[#20281])
* Fixed: Vulnerability in tokio
    (https://issues.rudder.io/issues/20269[#20269])

==== Architecture - Dependencies

* Fixed: Rudder build when skipping tests
    (https://issues.rudder.io/issues/20410[#20410])

==== Web - Config management

* Fixed: Non system technique appears in "System status tab"
    (https://issues.rudder.io/issues/20383[#20383])

==== Performance and scalability

* Fixed: Improve performance of getUserAndSystemNodeStatusReports by exploring only once cache
    (https://issues.rudder.io/issues/20318[#20318])
* Fixed: Improve performance of getUserAndSystemNodeStatusReports by exploring only once cache
    (https://issues.rudder.io/issues/20318[#20318])
* Fixed: Method getByRulesCompliance used by API is highly inefficient
    (https://issues.rudder.io/issues/20310[#20310])
* Fixed: Method getByRulesCompliance used by API is highly inefficient
    (https://issues.rudder.io/issues/20310[#20310])
* Fixed: Method getByRulesCompliance used by API is highly inefficient
    (https://issues.rudder.io/issues/20310[#20310])
* Fixed: Method getByRulesCompliance used by API is highly inefficient
    (https://issues.rudder.io/issues/20310[#20310])
* Fixed: spurious "connection_read(9): no connection!" in /var/log/rudder/ldap/slapd.log
    (https://issues.rudder.io/issues/19980[#19980])

==== Miscellaneous

* Fixed: Mount elm tmp dir in tmpfs to avoid lock failure on concurrent builds
    (https://issues.rudder.io/issues/20361[#20361])
* Fixed: Rudder agent factory-reset don't regenerate inventory
    (https://issues.rudder.io/issues/20282[#20282])

==== CI

* Fixed: Rudder-pkg tests timeout sometimes
    (https://issues.rudder.io/issues/20354[#20354])
* Fixed: Only run compatibility tests during the night
    (https://issues.rudder.io/issues/20323[#20323])
* Fixed: Split test and build tasks in Jenkins file
    (https://issues.rudder.io/issues/20320[#20320])
* Fixed: Dockerify tests
    (https://issues.rudder.io/issues/20275[#20275])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.



==  Rudder 6.2.11 (2021-11-19)

=== Changes


==== CI

* Change the slack notification form the ncf tests
    (https://issues.rudder.io/issues/20143[#20143])

=== Bug fixes

==== Packaging

* Fixed: ubuntu 13 doesn't support tlsv1.2 
    (https://issues.rudder.io/issues/20122[#20122])
* Fixed: File /tmp/rudder-plugins-upgrade is never cleaned during an upgrade, so running again rudder-upgrade causes trouble on plugins
    (https://issues.rudder.io/issues/20069[#20069])
* Fixed: old distro build fail to get source
    (https://issues.rudder.io/issues/20063[#20063])
* Fixed: error at upgrade of rudder to 7.0
    (https://issues.rudder.io/issues/20031[#20031])

==== Documentation

* Fixed: Documentation about collection access in jinja2 template is incorrect
    (https://issues.rudder.io/issues/20234[#20234])

==== Performance and scalability

* Fixed: Improve compliance computation efficiency
    (https://issues.rudder.io/issues/20254[#20254])
* Fixed: Store processes of an inventory after storing the inventory
    (https://issues.rudder.io/issues/20006[#20006])

==== Web - UI & UX

* Fixed: "Save changes" button on the policy mode form is broken.
    (https://issues.rudder.io/issues/20210[#20210])

==== Relay server or API

* Fixed: Vulnerability in chrono
    (https://issues.rudder.io/issues/20160[#20160])
* Fixed: Vulnerability in time crate
    (https://issues.rudder.io/issues/20141[#20141])

==== Web - Maintenance

* Fixed: Error when unserializing ChangeRequest modifying Directives based on Techniques  that have been deleted
    (https://issues.rudder.io/issues/3783[#3783])

==== Web - Nodes & inventories

* Fixed: confusing search option for Node: "Policy Node ID"
    (https://issues.rudder.io/issues/20093[#20093])
* Fixed: Number of CPU is wrongly reported
    (https://issues.rudder.io/issues/19988[#19988])

==== Web - Config management

* Fixed: Typo in log "deletedbut"
    (https://issues.rudder.io/issues/19956[#19956])

==== Techniques

* Fixed: sshKeyDistribution doesn't correctly reports on missing home folder
    (https://issues.rudder.io/issues/19944[#19944])

==== Generic methods

* Fixed: Pass the zypper_pattern test in staging
    (https://issues.rudder.io/issues/20108[#20108])
* Fixed: Fix augeas methods documentation
    (https://issues.rudder.io/issues/19883[#19883])
* Fixed: testinfra based tests should pass via the python executable and not py.test
    (https://issues.rudder.io/issues/20001[#20001])
* Fixed: Strict mode of file_key_value_present_option does not introduce unwanted escpaing characters
    (https://issues.rudder.io/issues/19908[#19908])

==== CI

* Fixed: Remove ubuntu20 from the Jenkinsfile test since thehost is unstable atm
    (https://issues.rudder.io/issues/20056[#20056])
* Fixed: Cover all supported server OS in the PR automated tests.
    (https://issues.rudder.io/issues/19979[#19979])
* Fixed: Add ncf tests to the repo Jenkinsfile
    (https://issues.rudder.io/issues/19970[#19970])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.10 (2021-09-03)

=== Changes

==== Packaging

* Optimize ldap binaries with -O2
    (https://issues.rudder.io/issues/19648[#19648])

==== Documentation

* Document the agent.conf format for windows
    (https://issues.rudder.io/issues/19673[#19673])

==== Techniques

* All .cf and .st files under in rudder-techniques should have an updated license header
    (https://issues.rudder.io/issues/19534[#19534])

=== Bug fixes

==== Packaging

* Fixed: debian 8 fails to build augeas
    (https://issues.rudder.io/issues/19906[#19906])
* Fixed: Update openssl to 1.1.1l
    (https://issues.rudder.io/issues/19854[#19854])
* Fixed: Fail on elm build error
    (https://issues.rudder.io/issues/19689[#19689])

==== Documentation

* Fixed: Document that a "rudder agent server-keys-reset" is necessary to move a node to another policy server
    (https://issues.rudder.io/issues/19761[#19761])
* Fixed: Wrong procedure for import of configuration
    (https://issues.rudder.io/issues/19712[#19712])
* Fixed: Document more precisely versioning scheme
    (https://issues.rudder.io/issues/19474[#19474])

==== System integration

* Fixed: Git error when deleting a node or archiving everything, and very slow git
    (https://issues.rudder.io/issues/19398[#19398])
* Fixed: Rudder fails to stop on boot error
    (https://issues.rudder.io/issues/19567[#19567])

==== Performance and scalability

* Fixed: Display result of search with thousands of nodes is really slow on 6.2 & 7.0
    (https://issues.rudder.io/issues/19897[#19897])

==== Miscellaneous

* Fixed: Error about cfengine key when deleting a node
    (https://issues.rudder.io/issues/19571[#19571])
* Fixed: NoSuchFileException: /var/rudder/policy-generation-info/node-configuration-hashes.json
    (https://issues.rudder.io/issues/19589[#19589])
* Fixed: Add Kali Linux to the list of recognized OS
    (https://issues.rudder.io/issues/19537[#19537])

==== Plugins integration

* Fixed: rudder package does not print the plugin content at install time
    (https://issues.rudder.io/issues/19874[#19874])
* Fixed: Format the rudder-pkg python files
    (https://issues.rudder.io/issues/19886[#19886])

==== Relay server or API

* Fixed: Data race in crossbeam-deque
    (https://issues.rudder.io/issues/19833[#19833])
* Fixed: Relayd deadlocks when trying to forward a shared-file
    (https://issues.rudder.io/issues/19547[#19547])
* Fixed: Prevent race condition in relayd tests
    (https://issues.rudder.io/issues/19569[#19569])

==== Architecture - Internal libs

* Fixed: RunNuCommandTest fails with timeout on CI
    (https://issues.rudder.io/issues/19828[#19828])

==== Security

* Fixed: Two vulnerabilities in hyper
    (https://issues.rudder.io/issues/19731[#19731])

==== Web - Nodes & inventories

* Fixed: Incorrect pattern matching leads to error in inventory parsing
    (https://issues.rudder.io/issues/19632[#19632])

==== Web - Config management

* Fixed: It is impossible to read properties with a read-only account
    (https://issues.rudder.io/issues/19631[#19631])
* Fixed: Can't access filesystem type from group criteria
    (https://issues.rudder.io/issues/19559[#19559])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Gaëtan Chagneau

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 6.2.9 (2021-07-20)

=== Changes


=== Bug fixes

==== Miscellaneous

* Fixed: Or selector for property Name=Value selector returns 0 elements
    (https://issues.rudder.io/issues/19538[#19538])

==== Documentation

* Fixed: Correctly name LICENSES folder in repo
    (https://issues.rudder.io/issues/19535[#19535])

==== Security

* Fixed: CVE in jsonpath dependency
    (https://issues.rudder.io/issues/19530[#19530])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.8 (2021-07-09)

=== Changes

==== Packaging

* Add debian 11 build flags to 6.2
    (https://issues.rudder.io/issues/19391[#19391])
* Add ci checks for packages
    (https://issues.rudder.io/issues/19362[#19362])
* Improve pylint config and add formatter to rudder-pkg
    (https://issues.rudder.io/issues/19441[#19441])
* rudder-pkg test should use python3
    (https://issues.rudder.io/issues/19405[#19405])
* Backport typos checks to 6.1
    (https://issues.rudder.io/issues/19359[#19359])
* Clean workspace at the end of Rust builds
    (https://issues.rudder.io/issues/19246[#19246])
* Clean workspace at the end of Rust builds
    (https://issues.rudder.io/issues/19246[#19246])
* Add ci check for techniques
    (https://issues.rudder.io/issues/19355[#19355])
* Add ci checks on rudder-agent repo
    (https://issues.rudder.io/issues/19354[#19354])

==== Documentation

* Missing doc about methods ordering
    (https://issues.rudder.io/issues/19462[#19462])
* Add ci check for typos in docs
    (https://issues.rudder.io/issues/19360[#19360])

=== Bug fixes

==== Plugins integration

* Fixed: when upgrading rudder, plugins are upgraded, but are disabled
    (https://issues.rudder.io/issues/19517[#19517])

==== Packaging

* Fixed: No more need for insserv-compat as all our services are systemd units
    (https://issues.rudder.io/issues/19509[#19509])
* Fixed: Broken agent postinst script
    (https://issues.rudder.io/issues/19406[#19406])
* Fixed: Broken short hostname in agent certificate
    (https://issues.rudder.io/issues/19447[#19447])
* Fixed: Api doc publish does not require docs label
    (https://issues.rudder.io/issues/19408[#19408])

==== Agent

* Fixed: rudder-agent-postinst fails in 7.0 while closing fd
    (https://issues.rudder.io/issues/19429[#19429])
* Fixed: Rudder agent check should check if certificate matches private key
    (https://issues.rudder.io/issues/19392[#19392])

==== Documentation

* Fixed: Outdated doc for setting limit of open files for the webapp
    (https://issues.rudder.io/issues/19494[#19494])
* Fixed: Remove wrong doc about services passwords
    (https://issues.rudder.io/issues/19493[#19493])
* Fixed: Fix docs about HTTPS reporting in non-compliant mode
    (https://issues.rudder.io/issues/19437[#19437])
* Fixed: Update Ansible integration link to Rudder inventory script
    (https://issues.rudder.io/issues/19420[#19420])
* Fixed: Document minimum version of JDK (8u92)
    (https://issues.rudder.io/issues/19280[#19280])
* Fixed: Missing 'settings' layer in the allowed_networks API doc
    (https://issues.rudder.io/issues/19502[#19502])
* Fixed: Add name to LDAP pool to help debugging
    (https://issues.rudder.io/issues/19284[#19284])
* Fixed: Improve augeas set method
    (https://issues.rudder.io/issues/19260[#19260])

==== Security

* Fixed: Lack of HTML escaping in nodes list
    (https://issues.rudder.io/issues/19456[#19456])
* Fixed: Vulnerability in spring-security
    (https://issues.rudder.io/issues/19503[#19503])
* Fixed: Enforce stricter restriction on authorized node id and hostname
    (https://issues.rudder.io/issues/19457[#19457])
* Fixed: Command injection in plugins repository file names
    (https://issues.rudder.io/issues/19442[#19442])
* Fixed: CVE in spring dependency
    (https://issues.rudder.io/issues/19407[#19407])
* Fixed: Update snakeyaml dependency for security
    (https://issues.rudder.io/issues/19400[#19400])
* Fixed: rudder.auth.admin.pass should be stored in bcrypt format
    (https://issues.rudder.io/issues/19308[#19308])
* Fixed: Ignore security alert for unused js embedded in scala lib
    (https://issues.rudder.io/issues/19272[#19272])

==== Web - UI & UX

* Fixed: Directive details display is broken if the name of a directive is too long.
    (https://issues.rudder.io/issues/19487[#19487])

==== Performance and scalability

* Fixed: Inefficient comparison of strings in Rudder
    (https://issues.rudder.io/issues/19467[#19467])
* Fixed: Improve NodeInfo cache
    (https://issues.rudder.io/issues/19399[#19399])
* Fixed: Move use of cache outside of semaphore in NodeInfoService
    (https://issues.rudder.io/issues/19396[#19396])
* Fixed: Semaphore on Nodeinfoservice is not working
    (https://issues.rudder.io/issues/19351[#19351])

==== Relay server or API

* Fixed: Prevent parameter option injection in remote run
    (https://issues.rudder.io/issues/19455[#19455])
* Fixed: relayd on relays fails to retry inventories upload
    (https://issues.rudder.io/issues/19375[#19375])

==== System techniques

* Fixed: Missing cleanup of /var/rudder/reports/failed
    (https://issues.rudder.io/issues/19435[#19435])

==== Web - Config management

* Fixed: Inventory with updated properties doesn't always start a policy generation
    (https://issues.rudder.io/issues/19414[#19414])
* Fixed: Semaphore in APIAccountRepository,GitArchiverUtils and maybe PolicyServerManagementService are not semaphoring
    (https://issues.rudder.io/issues/19363[#19363])

==== Web - Nodes & inventories

* Fixed: When a node is totally deleted, cache in NodeInfoService can't know about it
    (https://issues.rudder.io/issues/19394[#19394])
* Fixed: In inventory, if there are two "rudder" tag, uuid are concatenated
    (https://issues.rudder.io/issues/19305[#19305])
* Fixed: Error when processing old inventories with davfs temporary files
    (https://issues.rudder.io/issues/19268[#19268])

==== API

* Fixed: Info API is not documented
    (https://issues.rudder.io/issues/19395[#19395])
* Fixed: API shows only part of the memory information
    (https://issues.rudder.io/issues/19374[#19374])
* Fixed: Remove reference to x-www-form-urlencoded in API commands
    (https://issues.rudder.io/issues/19276[#19276])

==== System integration

* Fixed: Confusing message when we disable non-compliant-report log
    (https://issues.rudder.io/issues/19381[#19381])

==== Techniques

* Fixed: Policy validation at the end of policy generation spends too much time evaluating things
    (https://issues.rudder.io/issues/19477[#19477])
* Fixed: File content always reports repair when "Replace content" is selected
    (https://issues.rudder.io/issues/19445[#19445])
* Fixed: Invalid reporting in file content technique
    (https://issues.rudder.io/issues/19431[#19431])
* Fixed: User technique should show unix option by default
    (https://issues.rudder.io/issues/19403[#19403])
* Fixed: cron management doesn't support multiline entry correctly
    (https://issues.rudder.io/issues/19336[#19336])
* Fixed: When configuring a comment in ssh key in technique ssh key distribution, 6 spaces are added at start of comment line
    (https://issues.rudder.io/issues/19335[#19335])
* Fixed: User Management technique tries to always change user gid when forcing the check of user gid everytime
    (https://issues.rudder.io/issues/19269[#19269])
* Fixed: Group management technique doesn't correctly honor gid option
    (https://issues.rudder.io/issues/19266[#19266])

==== CI

* Fixed: Hardcod the output of the style test TestClassPrefix in success cases
    (https://issues.rudder.io/issues/19404[#19404])
* Fixed:  Add typos check to CI config
    (https://issues.rudder.io/issues/19343[#19343])
* Fixed: Force pylint3 instead of pylint in qa-test
    (https://issues.rudder.io/issues/19390[#19390])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Lars Koenen

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.


==  Rudder 6.2.7 (2021-05-18)

=== Changes


==== Packaging

* Improve script linter in rudder repo
    (https://issues.rudder.io/issues/19243[#19243])
* Improve script linter in rudder repo
    (https://issues.rudder.io/issues/19243[#19243])
* Set CVSS limit for failing webapp dependency check
    (https://issues.rudder.io/issues/19214[#19214])
* Add maven deploy task to pipeline
    (https://issues.rudder.io/issues/19197[#19197])
* Add scripts to setup Rust build environements in CI
    (https://issues.rudder.io/issues/19184[#19184])

==== Miscellaneous

* Improve linter and test configuration
    (https://issues.rudder.io/issues/19177[#19177])

=== Bug fixes

==== Generic methods - File Management

* Fixed: The Generic Method "File copy from Rudder shared Folder" ignores Audit policy mode
    (https://issues.rudder.io/issues/19144[#19144])
* Fixed: Condition is ignored after "File from remote template"
    (https://issues.rudder.io/issues/19212[#19212])

==== Packaging

* Fixed: Shared file broken on upgraded servers with SELinux enabled
    (https://issues.rudder.io/issues/19188[#19188])
* Fixed: Update reflections to remove vulnerable guava dependency
    (https://issues.rudder.io/issues/19216[#19216])
* Fixed: Allow building without sccache
    (https://issues.rudder.io/issues/19225[#19225])
* Fixed: postinstall fails on machines with long hostname
    (https://issues.rudder.io/issues/19185[#19185])

==== Web - Config management

* Fixed: Empty /var/rudder/policy-generation-info/node-configuration-hashes.json after a policy generation that changed nothing
    (https://issues.rudder.io/issues/19248[#19248])
* Fixed: AUTHORIZED_NETWORKS system variable must be multivalued
    (https://issues.rudder.io/issues/19217[#19217])

==== Miscellaneous

* Fixed: relay package fails to build on rhel7
    (https://issues.rudder.io/issues/19247[#19247])
* Fixed: API documentation is misleading for properties
    (https://issues.rudder.io/issues/19202[#19202])
* Fixed: Policy generation does change technique resource files when it should not
    (https://issues.rudder.io/issues/19222[#19222])
* Fixed: setting a job with schedule_simple in catchup mode does not honor the schedule
    (https://issues.rudder.io/issues/19227[#19227])

==== API

* Fixed: Undocumented API rudder_verify_certificates
    (https://issues.rudder.io/issues/19235[#19235])
* Fixed: Missing documentation for POST allowedNetwords API
    (https://issues.rudder.io/issues/18506[#18506])

==== Security

* Fixed: Check dependence fails with NPE
    (https://issues.rudder.io/issues/19231[#19231])

==== Web - UI & UX

* Fixed: Date picker in search (last inventory) is broken
    (https://issues.rudder.io/issues/19228[#19228])

==== Performance and scalability

* Fixed: Slow computation of dynamic groups on large system
    (https://issues.rudder.io/issues/18981[#18981])
* Fixed: backup file are not copied correctly when the destination directory is on another FS
    (https://issues.rudder.io/issues/19218[#19218])
* Fixed: Put node cache info into a file in place of LDAP
    (https://issues.rudder.io/issues/19213[#19213])

==== Architecture - Dependencies

* Fixed: Some java dependencies have security warning and should be updated
    (https://issues.rudder.io/issues/19211[#19211])

==== Web - Technique editor

* Fixed: Techniques using a condition containing a variable are not canonified correctly with dsc agent
    (https://issues.rudder.io/issues/19199[#19199])

==== Web - Compliance & node report

* Fixed: Webapp tests fail if repository path contains an '@'
    (https://issues.rudder.io/issues/19186[#19186])

==== Plugins management

* Fixed: Detection of dependencies for plugin can fail if the python lib of another distrib is present
    (https://issues.rudder.io/issues/19187[#19187])

==== Agent

* Fixed: Command "rudder agent policy-server <server ip>" return code = 1 when ok
    (https://issues.rudder.io/issues/19157[#19157])
* Fixed: cannot upgrade directives because curl checks certificates
    (https://issues.rudder.io/issues/19175[#19175])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Jean Cardona
* Axel Bouet
* Lars Koenen

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.


==  Rudder 6.2.6 (2021-04-21)

=== Changes


=== Bug fixes

==== Miscellaneous

* Fixed: Syntax error in rudder-upgrade
    (https://issues.rudder.io/issues/19172[#19172])

==== Web - Config management

* Fixed: Lots of files are created in /var/rudder/inventories/debug
    (https://issues.rudder.io/issues/19171[#19171])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 6.2.5 (2021-04-21)

=== Changes


==== Security

* Use https repos in maven config
    (https://issues.rudder.io/issues/19164[#19164])

==== Packaging

* Split cargo-deny from qa-test
    (https://issues.rudder.io/issues/19083[#19083])

=== Bug fixes

==== Plugins integration

* Fixed: Error when restoring plugin status on fresh server install
    (https://issues.rudder.io/issues/19125[#19125])

==== Packaging

* Fixed: Update openssl to 1.1.1k
    (https://issues.rudder.io/issues/19090[#19090])
* Fixed: Vulnerability in relayd dependencies diesel and generic-array
    (https://issues.rudder.io/issues/19087[#19087])

==== Documentation

* Fixed: Incorrect option in pg_restore for archive 
    (https://issues.rudder.io/issues/19036[#19036])

==== Plugins management

* Fixed: when we install a plugin, if the dependency (package manager) is not met, it still tries to install it and fails
    (https://issues.rudder.io/issues/18999[#18999])

==== Web - Config management

* Fixed: Cannot load file browser if subfolders of the shared-folder contain dead symlinks
    (https://issues.rudder.io/issues/19158[#19158])
* Fixed: Add empty technique parameter in technique editor (6.2 only)
    (https://issues.rudder.io/issues/19119[#19119])
* Fixed: Allow to put empty value in technique parameters
    (https://issues.rudder.io/issues/19115[#19115])
* Fixed: Inherited node properties are displayed with escape
    (https://issues.rudder.io/issues/19085[#19085])

==== Web - Nodes & inventories

* Fixed: Add an option to invert result of a node query
    (https://issues.rudder.io/issues/19138[#19138])
* Fixed: Search nodes component is not reloaded when reloading page, losing our current request
    (https://issues.rudder.io/issues/19082[#19082])
* Fixed: Inventory named as "Report" in log message
    (https://issues.rudder.io/issues/19072[#19072])

==== API

* Fixed: Clone group via API ask for query
    (https://issues.rudder.io/issues/19129[#19129])
* Fixed: Bad quoting for string value in parameter update from API
    (https://issues.rudder.io/issues/19104[#19104])
* Fixed: Add more tests for API (directives, techniques, parameters)
    (https://issues.rudder.io/issues/19086[#19086])
* Fixed: Missing example for server key reset
    (https://issues.rudder.io/issues/19065[#19065])

==== Web - Compliance & node report

* Fixed: Overridden directives in the same rule are missing (not even "skipped")
    (https://issues.rudder.io/issues/19114[#19114])

==== Web - UI & UX

* Fixed: Syntax helper in the parameter page is outdated
    (https://issues.rudder.io/issues/19108[#19108])

==== Security

* Fixed: Vulnerabilities in relayd hyper dependency
    (https://issues.rudder.io/issues/18903[#18903])

==== Agent

* Fixed: Typo in agent error message
    (https://issues.rudder.io/issues/19130[#19130])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Lars Koenen

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.4 (2021-03-19)

=== Changes

=== Bug fixes

==== System integration

* Fixed: Upgrade script fails in system technique update (empty commit)
    (https://issues.rudder.io/issues/19044[#19044])

==== Web - Config management

* Fixed: Cannot load file browser when shared-folder contains dead symlinks
    (https://issues.rudder.io/issues/18200[#18200])

==== Web - UI & UX

* Fixed: Custom bar and logo are not displayed in the login form while option is enabled in the Branding plugin
    (https://issues.rudder.io/issues/19040[#19040])

==== Web - Technique editor

* Fixed: Technique editor error when an class is not correctly defined
    (https://issues.rudder.io/issues/19039[#19039])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Nicolas Ecarnot

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.3 (2021-03-18)

=== Release Notes

==== Change of behavior for empty technique parameters

Previously, when adding a new parameter to a technique in the technique editor, all directives based on this technique
were still valid and used an empty value for the new parameter. This leads to unexpected behaviors, and makes adding
parameters to techniques potentially dangerous.

To prevent this type of problems (in the scope of a patch release) we had to totally prevent passing empty parameters to techniques from the technique editor. This makes missing parameters a policy generation error, allowing to safely provide
them to directives after modifying the source technique.

This may break existing directives that rely on an expression which evaluates to an empty value, like a property containing an empty string, or a property value with an empty default.
In this case, you can pass a specific value like
`None` or a space char to indicate an empty value, and modify the technique to handle the special case
as a workaround.

We will work on a better solution in a future version, allowing to make the difference between new parameters and
intentionally blank ones.

(https://issues.rudder.io/issues/18832[#18832])

==== Policy server reload

We fixed a known issue is the way we reload the policy server (the service that distributes policies to Unix systems).

Previously, when adding a node or modifying allowed networks, a configuration reload was triggered, but it was only effective when the service became idle. On loaded Rudder servers or relays, this may totally prevent service reload, and thus
prevent the new nodes from connecting.

We replaced the reload by a graceful restart mechanism which takes effect immediately. This should not
cause any visible changes, except that two `cf-serverd` processes might be running at the same time (on
handling existing connections until completion, one handling the new ones).

(https://issues.rudder.io/issues/18893[#18893])

==== Other important fixes

* We fixed lock issues in Rudder server logic, this should make Rudder safer and faster and thus we recommend all users to update to 6.2.3 (https://issues.rudder.io/issues/18983[#18983])
* In rare cases, the agent inventory processes could pile up, exhausting resources of the machine. This has been fixed, another important reason to update to 6.2.3 (https://issues.rudder.io/issues/18832[#18832])
* OOM exception now stops Rudder correctly with information logs either in rudder-jetty service or in webapp logs, but some JVM, especially old Java 8, still don't log anything (https://issues.rudder.io/issues/18955[#18955]). As a consequence, Rudder now requires at least OpenJDK 1.8.0-92.

=== Changes

==== System integration

* Epoch is not included in rpm package version in inventory
    (https://issues.rudder.io/issues/19000[#19000])

==== Packaging

* Update embedded openssl
    (https://issues.rudder.io/issues/18913[#18913])

==== Documentation

* Add documentation for changing cf-serverd port
    (https://issues.rudder.io/issues/18872[#18872])

==== Web - Config management

* Add a settings to delay start of policy generation
    (https://issues.rudder.io/issues/18845[#18845])

==== Web - UI & UX

* Line break after each ip address
    (https://issues.rudder.io/issues/18883[#18883])

==== Techniques

* Add an "upgrade only" option to the technique packageManagement
    (https://issues.rudder.io/issues/18909[#18909])

==== Generic methods - File Management

* Document usage of sys.ipv4 var in jinja
    (https://issues.rudder.io/issues/18905[#18905])

=== Bug fixes

==== Packaging

* Fixed: Upgrade failed from 5.0.20 to 6.1.9 on SLES
    (https://issues.rudder.io/issues/18891[#18891])

==== System integration

* Fixed: Fatal exception doesn't cause rudder to stop anymore
    (https://issues.rudder.io/issues/18955[#18955])

==== Server components

* Fixed: After the promises generation, cf-serverd config may not be reloaded, preventing new nodes from connecting
    (https://issues.rudder.io/issues/8351[#8351])

==== Agent

* Fixed: Error logs about "Method '...' failed in some repairs" are useless and should be at verbose level instead
    (https://issues.rudder.io/issues/18914[#18914])
* Fixed: Agent run schedule problem
    (https://issues.rudder.io/issues/18846[#18846])
* Fixed: Agent run schedule problem
    (https://issues.rudder.io/issues/18846[#18846])
* Fixed: Rudder Agent consumes complete Memory because of fdisk
    (https://issues.rudder.io/issues/18832[#18832])

==== Documentation

* Fixed: Update some plugin documentation
    (https://issues.rudder.io/issues/18962[#18962])
* Fixed: Add advanced jinja2 template example for main IP address
    (https://issues.rudder.io/issues/18906[#18906])
* Fixed: Missing licence info in pom.xml
    (https://issues.rudder.io/issues/18978[#18978])
* Fixed: rudder api doc doesn't list nodes/pending
    (https://issues.rudder.io/issues/18940[#18940])
* Fixed: Documentation API doesn't build anymore
    (https://issues.rudder.io/issues/18930[#18930])

==== Performance and scalability

* Fixed: We don't know when generation hooks takes more time than expected, massively impacting generation time
    (https://issues.rudder.io/issues/18915[#18915])
* Fixed: A writeLock must never be in a read lock for LDAP repo
    (https://issues.rudder.io/issues/18983[#18983])

==== API

* Fixed: Inherited node properties are not returned in API
    (https://issues.rudder.io/issues/18959[#18959])
* Fixed: nodes API with include managementTechnologyDetails leads to error 500 response
    (https://issues.rudder.io/issues/18926[#18926])
* Fixed: Missing API addition for version 13 in doc
    (https://issues.rudder.io/issues/18923[#18923])

==== Web - Nodes & inventories

* Fixed: FileUploadBaseSizeLimitExceededException with an 10MB inventory
    (https://issues.rudder.io/issues/19004[#19004])
* Fixed: "By agent version" pie chart leads to empty page
    (https://issues.rudder.io/issues/18791[#18791])
* Fixed: purge software batch sometime terminate in error without log message
    (https://issues.rudder.io/issues/18873[#18873])

==== Web - Config management

* Fixed: Missing mandatory directive parameter doesn't fail policy generation
    (https://issues.rudder.io/issues/18995[#18995])
* Fixed: Missing exception details in change request update
    (https://issues.rudder.io/issues/18900[#18900])
* Fixed: Workflow rights are not used for rules
    (https://issues.rudder.io/issues/18876[#18876])

==== Containers

* Fixed: Incorrect permission for relay docker script
    (https://issues.rudder.io/issues/18993[#18993])

==== Web - UI & UX

* Fixed: Double scrollbar in settings page when branding plugin is enabled
    (https://issues.rudder.io/issues/18935[#18935])
* Fixed: Error message when editing properties in the interface
    (https://issues.rudder.io/issues/18902[#18902])
* Fixed: Save button moves when switching of compliance reporting mode
    (https://issues.rudder.io/issues/18849[#18849])

==== Miscellaneous

* Fixed: Error in postCommit pipeline with processor 'post_commit_inventory:pending_node_for_deleted_server'
    (https://issues.rudder.io/issues/18899[#18899])

==== Plugins integration

* Fixed: Do not try to upgrade cis or openscap plugins
    (https://issues.rudder.io/issues/18874[#18874])

==== System techniques

* Fixed: Rsync command for shared-files is incorrect
    (https://issues.rudder.io/issues/18943[#18943])

==== Generic methods - File Management

* Fixed: Value replacement in "File key-value present" and "File keys-values present" methods doesn't work correctly in some cases.
    (https://issues.rudder.io/issues/18944[#18944])
* Fixed: file_check_block_devices test does not work on debian based system
    (https://issues.rudder.io/issues/18924[#18924])

==== Generic methods

* Fixed: ncf unit tests do not generate any log file
    (https://issues.rudder.io/issues/18928[#18928])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Anton Yakimov
* Lars Koenen
* Nicolas Ecarnot
* Andras Miko

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.2 (2021-01-28)

=== Changes

==== System techniques

* Allow defining port in policy_server.dat
    (https://issues.rudder.io/issues/18721[#18721])

=== Bug fixes

==== Packaging

* Fixed: Inventories are rejected due to missing dependency on Centos 8
    (https://issues.rudder.io/issues/18862[#18862])

==== System integration

* Fixed: After upgrade between two Rudder 6.2 all plugins are disabled
    (https://issues.rudder.io/issues/18842[#18842])

==== Documentation

* Fixed: Update windows plugin documentation
    (https://issues.rudder.io/issues/18836[#18836])

==== Performance and scalability

* Fixed: Backport new inventory priorisation, software deletion API and log correction in 6.1
    (https://issues.rudder.io/issues/18839[#18839])

==== API

* Fixed: id parameter is ignored in rule category creation API and rule tags are lost on update
    (https://issues.rudder.io/issues/18867[#18867])
* Fixed: Bad URL for doc of purgeSoftware API
    (https://issues.rudder.io/issues/18840[#18840])

==== Web - Config management

* Fixed: Event logs are not written when fields are set to empty (ie short description)
    (https://issues.rudder.io/issues/18856[#18856])

==== Web - UI & UX

* Fixed: Cannot open directive details on Safari 
    (https://issues.rudder.io/issues/18838[#18838])

==== Plugins integration

* Fixed: rudder package upgrade-all does not upgrade each plugin independently
    (https://issues.rudder.io/issues/18841[#18841])
* Fixed: rudder plugin upgrade-all  states that he will disable plugin, but is does not
    (https://issues.rudder.io/issues/18843[#18843])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.1 (2021-01-19)

=== Changes

==== Documentation

* Document container/docker support
    (https://issues.rudder.io/issues/18794[#18794])
* Mark 6.2 as final in docs
    (https://issues.rudder.io/issues/18756[#18756])

==== Containers

* Make a single container relay
    (https://issues.rudder.io/issues/18765[#18765])
* Make a single container relay
    (https://issues.rudder.io/issues/18765[#18765])

==== API

* Add API tests for rules
    (https://issues.rudder.io/issues/18770[#18770])

==== Generic methods

* Add solaris specific paths
    (https://issues.rudder.io/issues/18741[#18741])

=== Bug fixes

==== Packaging

* Fixed: package cache ignores architecture
    (https://issues.rudder.io/issues/18759[#18759])

==== Documentation

* Fixed: Add solaris to supported OS in doc
    (https://issues.rudder.io/issues/18807[#18807])
* Fixed: Rudder by example for auto-accept nodes
    (https://issues.rudder.io/issues/18780[#18780])
* Fixed: Lots of methods are missing a documentation
    (https://issues.rudder.io/issues/18724[#18724])

==== Web - Maintenance

* Fixed: Make more clear error message when several rudder.war are present
    (https://issues.rudder.io/issues/18835[#18835])

==== Performance and scalability

* Fixed: In Rudder 6.2.0 inventory processing merge_uuid part get extremely slow on debian
    (https://issues.rudder.io/issues/12937[#12937])

==== API

* Fixed: Broken API doc build
    (https://issues.rudder.io/issues/18823[#18823])
* Fixed: Clone rule API fails with "rule already exists with that id"
    (https://issues.rudder.io/issues/18777[#18777])

==== Relay server or API

* Fixed: Security advisories for relayd dependencies
    (https://issues.rudder.io/issues/18824[#18824])
* Fixed: Security vulnerability in arc-swap
    (https://issues.rudder.io/issues/18766[#18766])

==== Web - Compliance & node report

* Fixed:  Error log about duplicates entries when saving node compliance levels
    (https://issues.rudder.io/issues/18814[#18814])

==== Web - Nodes & inventories

* Fixed: Accepting a node by API or UI doesn't do the same things exactly
    (https://issues.rudder.io/issues/18677[#18677])
* Fixed: bad logger name for inventory processing
    (https://issues.rudder.io/issues/18813[#18813])
* Fixed: Node name not visible in node configuration screen
    (https://issues.rudder.io/issues/18768[#18768])

==== Web - Config management

* Fixed: Global parameters format is not preserved when editing
    (https://issues.rudder.io/issues/18556[#18556])
* Fixed: when directive name is long and there are several tags (like with CIS plugin), display is a bit broken
    (https://issues.rudder.io/issues/18733[#18733])

==== Web - UI & UX

* Fixed: Message on save for group must appear only when button is disabled
    (https://issues.rudder.io/issues/18738[#18738])
* Fixed: Markdown documentation rendering is inconsistent
    (https://issues.rudder.io/issues/18750[#18750])

==== Web - Technique editor

* Fixed: saving imported techniques with unknown GM fails with no error prompt
    (https://issues.rudder.io/issues/18420[#18420])

==== Techniques

* Fixed: Define suse classes on sled
    (https://issues.rudder.io/issues/18775[#18775])

==== System techniques

* Fixed: bootstrap policies report OK if there is no server
    (https://issues.rudder.io/issues/18748[#18748])
* Fixed: Jinja2 UTF-8 rendering Problem
    (https://issues.rudder.io/issues/18552[#18552])

==== Generic methods

* Fixed: head bash command path should be taken from the ncf_paths bundle
    (https://issues.rudder.io/issues/18797[#18797])
* Fixed: Regex constraint must not contain escaped chars
    (https://issues.rudder.io/issues/18764[#18764])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Jeremy CHAMPEL
* I C
* Alexander Brunhirl

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.0 (2020-12-10)

=== Changes

==== Documentation

* Add documentation about set-force-audit in audit/enforce chapter
    (https://issues.rudder.io/issues/18707[#18707])

=== Bug fixes

==== Packaging

* Fixed: missing python3-setuptools dependency on relay on sles15 and rhel8
    (https://issues.rudder.io/issues/18747[#18747])
* Fixed: missing python3-setuptools dependency on relay on sles15 and rhel8
    (https://issues.rudder.io/issues/18747[#18747])
* Fixed: Remove plugin notice during upgrade
    (https://issues.rudder.io/issues/18742[#18742])
* Fixed: /var/rudder/config-repo/.gitignore is overridden by packaging
    (https://issues.rudder.io/issues/17995[#17995])

==== Agent

* Fixed: backport fix on background command execution on agent
    (https://issues.rudder.io/issues/18732[#18732])

==== Documentation

* Fixed: Wrong period for health check run in user doc
    (https://issues.rudder.io/issues/18702[#18702])

==== System integration

* Fixed: No newer release compatible versions found for the plugin rudder-plugin-scale-out-relay, disabling it
    (https://issues.rudder.io/issues/18735[#18735])

==== Architecture - Refactoring

* Fixed: Compilation warning (unused variable) in 6.2.0-rc1
    (https://issues.rudder.io/issues/18729[#18729])

==== Web - UI & UX

* Fixed: parent ticket doesn't grey out title on accept new nodes when the popup shows up
    (https://issues.rudder.io/issues/18691[#18691])
* Fixed: Tooltip in node summary goes under sidebar
    (https://issues.rudder.io/issues/18723[#18723])
* Fixed: When there is an error after saving a directive, impossible to scroll down directive details
    (https://issues.rudder.io/issues/18714[#18714])
* Fixed: Create directive button is misplaced
    (https://issues.rudder.io/issues/18700[#18700])

==== Web - Config management

* Fixed: Agent run frequency must not be configurable on policy servers
    (https://issues.rudder.io/issues/18330[#18330])

==== Generic methods - File Management

* Fixed: On sles system augtool requires a terminating break line to run a command passed via pipe
    (https://issues.rudder.io/issues/18719[#18719])
* Fixed: calling file_key_value_present_in_ini_section on a yum repo definition loops
    (https://issues.rudder.io/issues/18705[#18705])

==== Generic methods

* Fixed: ncf uses its own cfengine port instead of rudder defined one
    (https://issues.rudder.io/issues/18704[#18704])

=== Release notes

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.0.rc1 (2020-11-25)

=== Changes

==== Packaging

* Embed augeas in the agent
    (https://issues.rudder.io/issues/17945[#17945])
* Add rudder-agent services to solaris package
    (https://issues.rudder.io/issues/18444[#18444])

==== Documentation

* Update documentation about node properties value inheritance rules 
    (https://issues.rudder.io/issues/18537[#18537])
* Add a link to rudder-by-example in windows doc
    (https://issues.rudder.io/issues/12622[#12622])
* Fix links to different API versions
    (https://issues.rudder.io/issues/18546[#18546])

==== Web - Nodes & inventories

* Add a property column without inherited values in node list
    (https://issues.rudder.io/issues/18641[#18641])
* API to totally erase a node everywhere
    (https://issues.rudder.io/issues/18035[#18035])

==== Web - UI & UX

* Pretty-print json properties in nodes list
    (https://issues.rudder.io/issues/18618[#18618])
* Beautify Nodes page
    (https://issues.rudder.io/issues/18424[#18424])
* Change default columns of nodes tables
    (https://issues.rudder.io/issues/18617[#18617])
* Do not use italics on login page
    (https://issues.rudder.io/issues/18606[#18606])
* Rename Id to "Node ID" in columns name for consistency
    (https://issues.rudder.io/issues/18603[#18603])
* Rename node menu entries for consistency
    (https://issues.rudder.io/issues/18590[#18590])
* Group display: allow to see last inventory field
    (https://issues.rudder.io/issues/7687[#7687])
* Densify the Directives interface
    (https://issues.rudder.io/issues/14841[#14841])
* Add a reset columns button and some guard on localstorage cache
    (https://issues.rudder.io/issues/18495[#18495])
* Store columns used in localstorage in nodes list
    (https://issues.rudder.io/issues/18476[#18476])
* Reduce data send to nodes list and make a faster display
    (https://issues.rudder.io/issues/18473[#18473])

==== Agent

* Rudder server relay install should use the up-to-date commands and not deprecated ones
    (https://issues.rudder.io/issues/18639[#18639])

==== API

* Missing a PATCH API for allowed networks
    (https://issues.rudder.io/issues/18508[#18508])
* Documentation for /nodes/status page
    (https://issues.rudder.io/issues/18483[#18483])
* 6.2 API version is 13
    (https://issues.rudder.io/issues/18481[#18481])

==== Architecture - Internal libs

* Skip performance test
    (https://issues.rudder.io/issues/18563[#18563])

==== Architecture - Refactoring

* Move date formatter service to a more common project 
    (https://issues.rudder.io/issues/15915[#15915])
* Move health check API in /system/
    (https://issues.rudder.io/issues/18482[#18482])

==== Web - Maintenance

* Skip non-standard mount FS for free-space check
    (https://issues.rudder.io/issues/18534[#18534])

==== Techniques

* deprecate the version 2.0 of the technique VariableFromJsonFiles
    (https://issues.rudder.io/issues/14244[#14244])

==== Generic methods

* Augeas methods should prefer the agent provided binary
    (https://issues.rudder.io/issues/18600[#18600])

=== Bug fixes

==== Packaging

* Fixed: We try to replace python shebang in source files instead of destination files
    (https://issues.rudder.io/issues/18675[#18675])
* Fixed: Message about replacing files during upgrade on debian like is not precise enough
    (https://issues.rudder.io/issues/18671[#18671])
* Fixed: Solaris package generation doesn't follows repository tree
    (https://issues.rudder.io/issues/18666[#18666])
* Fixed: solaris versions only support digits
    (https://issues.rudder.io/issues/18640[#18640])
* Fixed: agent fails to build on aix
    (https://issues.rudder.io/issues/18624[#18624])
* Fixed: Solaris fails to build on 6.2
    (https://issues.rudder.io/issues/18614[#18614])
* Fixed: rudder-metrics-reporting doesn't work with 5 000 nodes
    (https://issues.rudder.io/issues/16675[#16675])
* Fixed: Typo in rudder package command on upgrade
    (https://issues.rudder.io/issues/18452[#18452])
* Fixed: Remove useless output from rudder package
    (https://issues.rudder.io/issues/18555[#18555])
* Fixed: Upgrading Rudder 6.2 on centos 7 fails
    (https://issues.rudder.io/issues/18521[#18521])

==== Agent

* Fixed: Fix metrics-reporting script
    (https://issues.rudder.io/issues/18568[#18568])

==== System integration

* Fixed: add software index in ldap
    (https://issues.rudder.io/issues/18475[#18475])
* Fixed: Force reload of generic-method cache when app starts
    (https://issues.rudder.io/issues/18635[#18635])

==== Plugins integration

* Fixed: rudder_synchronize uses the wrong API to retrieve techniques
    (https://issues.rudder.io/issues/18421[#18421])
* Fixed: Upgrading 6.2 nightly to 6.2 nightly with plugins fails
    (https://issues.rudder.io/issues/18645[#18645])
* Fixed: Link to plugins in Rudder interface should point directly to plugins list
    (https://issues.rudder.io/issues/18658[#18658])
* Fixed: rudder package config may not have the new parameters and may fail when reading them
    (https://issues.rudder.io/issues/18453[#18453])

==== Documentation

* Fixed: Improve documentation on disk space requirement
    (https://issues.rudder.io/issues/18532[#18532])
* Fixed: Search window appears behind "dev version warning" bar
    (https://issues.rudder.io/issues/18524[#18524])
* Fixed: Add documentation about proxy in rudder package command
    (https://issues.rudder.io/issues/18454[#18454])
* Fixed: Doc about "Condition from variable existence" is wrong
    (https://issues.rudder.io/issues/18458[#18458])

==== Web - Technique editor

* Fixed: Filter for name for generic methods in technique editor doesn't filter
    (https://issues.rudder.io/issues/18693[#18693])
* Fixed: Code blocks in the technique editor are not rendered correctly
    (https://issues.rudder.io/issues/18547[#18547])

==== Web - Compliance & node report

* Fixed: Reporting error when using twice "	File from local source" with parameter and without parameter in rudder 6.x
    (https://issues.rudder.io/issues/18686[#18686])
* Fixed: it's impossible to see all technical logs in 6.2
    (https://issues.rudder.io/issues/18687[#18687])
* Fixed: Popup error on group page with a readonly user in 6.2
    (https://issues.rudder.io/issues/18626[#18626])

==== Web - Nodes & inventories

* Fixed: Inherited properties always displayed in the column, even if checkbox unchecked
    (https://issues.rudder.io/issues/18681[#18681])
* Fixed: If there is a lot of pending nodes, accept button is not displayed
    (https://issues.rudder.io/issues/18680[#18680])
* Fixed: Typo in example script for auto-accept: POSTT
    (https://issues.rudder.io/issues/18676[#18676])
* Fixed: [object Object] in inherited properties column 
    (https://issues.rudder.io/issues/18668[#18668])
* Fixed: Add a script example for auto-acceptation of nodes by hook
    (https://issues.rudder.io/issues/18634[#18634])
* Fixed: Removing all node list columns remove the whole table
    (https://issues.rudder.io/issues/18597[#18597])
* Fixed: Column name to add are not sorted alphabetically
    (https://issues.rudder.io/issues/18538[#18538])
* Fixed: In added node attribute column, property value is never updated
    (https://issues.rudder.io/issues/18542[#18542])

==== Web - UI & UX

* Fixed: Clicking on "show docs" on a generic method scroll down too much
    (https://issues.rudder.io/issues/18612[#18612])
* Fixed: Many alignment issues on 6.2
    (https://issues.rudder.io/issues/18610[#18610])
* Fixed: In read_only mode, many things are editable
    (https://issues.rudder.io/issues/18627[#18627])
* Fixed: Add line break for partition's list in healthcheck notification
    (https://issues.rudder.io/issues/18662[#18662])
* Fixed: Typo in healthcheck notification title
    (https://issues.rudder.io/issues/18661[#18661])
* Fixed: Disable directive button has incorrect capitalization
    (https://issues.rudder.io/issues/18601[#18601])
* Fixed: Make group tab name capitalization consistent
    (https://issues.rudder.io/issues/18656[#18656])
* Fixed: Small UI features are missing from the new 6.2 interface
    (https://issues.rudder.io/issues/18588[#18588])
* Fixed: Column names in pending and accepted nodes are different
    (https://issues.rudder.io/issues/18609[#18609])
* Fixed: Improve display of partition free space
    (https://issues.rudder.io/issues/18605[#18605])
* Fixed: Make capitalization in directive form tabs consistent
    (https://issues.rudder.io/issues/18604[#18604])
* Fixed: Column label moves slightly when hovering remove button
    (https://issues.rudder.io/issues/18594[#18594])
* Fixed: Rename "Server" node list column to "Policy server"
    (https://issues.rudder.io/issues/18591[#18591])
* Fixed: missing (404) favicon in rudder loading page
    (https://issues.rudder.io/issues/18571[#18571])
* Fixed: Missing lights indicators in healthcheck page
    (https://issues.rudder.io/issues/18582[#18582])
* Fixed: Light in healthcheck notif are not displayed
    (https://issues.rudder.io/issues/18574[#18574])
* Fixed: Wrong timezone format of Date displayed in Recent Changes table
    (https://issues.rudder.io/issues/18543[#18543])
* Fixed: Display message if there are no parameters in Directive details 
    (https://issues.rudder.io/issues/11714[#11714])
* Fixed: In Groups page, the search filter should take up the full width available
    (https://issues.rudder.io/issues/18533[#18533])
* Fixed: after editing columns in the group or search node page, there's a JS error when doing a search
    (https://issues.rudder.io/issues/18498[#18498])
* Fixed: Missing (404) ajax-loader.gif on node pending page 
    (https://issues.rudder.io/issues/18491[#18491])
* Fixed: Reloading a page with a node table or refreshing breaks hostname links and compliance
    (https://issues.rudder.io/issues/18516[#18516])
* Fixed: spacing is uneven in reports database page
    (https://issues.rudder.io/issues/18503[#18503])
* Fixed: spacing is uneven in the settings page
    (https://issues.rudder.io/issues/18501[#18501])
* Fixed: Improve health check texts
    (https://issues.rudder.io/issues/18477[#18477])
* Fixed: Width of the Directive tree changes according to the selected Directive.
    (https://issues.rudder.io/issues/18474[#18474])
* Fixed: Compliance does not show up if you don't click on refresh
    (https://issues.rudder.io/issues/18462[#18462])
* Fixed: Empty space in Directives header
    (https://issues.rudder.io/issues/18401[#18401])
* Fixed: Warning on plugin icon is huge on left menu
    (https://issues.rudder.io/issues/18460[#18460])
* Fixed: Header of some page hides menu from the left side
    (https://issues.rudder.io/issues/18463[#18463])
* Fixed: Health check page is not displayed
    (https://issues.rudder.io/issues/18461[#18461])

==== Web - Maintenance

* Fixed: category.xml is created in place of activeTechniqueSettings.xml in all config-repos/directives
    (https://issues.rudder.io/issues/18499[#18499])
* Fixed: Healthcheck checks happen to often 
    (https://issues.rudder.io/issues/18540[#18540])
* Fixed: Healthcheck checks happen to often 
    (https://issues.rudder.io/issues/18540[#18540])
* Fixed: Notification healthcheck is not displayed on warning
    (https://issues.rudder.io/issues/18479[#18479])

==== API

* Fixed: API ACL order is lost for users
    (https://issues.rudder.io/issues/18664[#18664])
* Fixed: API message when a node details is not found is extremely misleading
    (https://issues.rudder.io/issues/18654[#18654])
* Fixed: Bad file name in api-doc: set-allowed-networks.yml
    (https://issues.rudder.io/issues/18608[#18608])
* Fixed: Check partition should check the lowest space available first
    (https://issues.rudder.io/issues/18480[#18480])
* Fixed: Typo in API doc
    (https://issues.rudder.io/issues/18457[#18457])

==== Web - Config management

* Fixed: Added column for node property does not show inherited value
    (https://issues.rudder.io/issues/18595[#18595])
* Fixed: Inherited mode is not returned in API
    (https://issues.rudder.io/issues/18578[#18578])
* Fixed: String node properties display quotes
    (https://issues.rudder.io/issues/18580[#18580])
* Fixed: We don't know which hook timeout when it happens
    (https://issues.rudder.io/issues/18530[#18530])
* Fixed: Inherited node prop arrays are replaced not merged contrary to doc
    (https://issues.rudder.io/issues/18466[#18466])
* Fixed: If a second rollback starts when a first is processing, system group/technique may be lost
    (https://issues.rudder.io/issues/17720[#17720])

==== Architecture - Internal libs

* Fixed: semaphore guarding LDAP repos are created each time
    (https://issues.rudder.io/issues/18584[#18584])
* Fixed: If LDAP server does not support subtree deletion, we get error when entry does not exists
    (https://issues.rudder.io/issues/18529[#18529])
* Fixed: ifTrace/Debug/etcIsEnabled on pure logger does nothings
    (https://issues.rudder.io/issues/18528[#18528])

==== Performance and scalability

* Fixed: Batch of new nodes can overflow rudder server with inventories
    (https://issues.rudder.io/issues/16773[#16773])
* Fixed: Loading directive's page is very slow
    (https://issues.rudder.io/issues/18510[#18510])

==== Relay server or API

* Fixed: Too many open files in relayd when disk is full
    (https://issues.rudder.io/issues/18437[#18437])
* Fixed: Broken report parser on some info messages
    (https://issues.rudder.io/issues/18497[#18497])

==== Server components

* Fixed: Error when refusing a node
    (https://issues.rudder.io/issues/16739[#16739])

==== System techniques

* Fixed: ncf_hash_file is created with incorrect group permission by system techniques
    (https://issues.rudder.io/issues/18592[#18592])
* Fixed: file augeas set class parameter should be path rather than lens
    (https://issues.rudder.io/issues/18442[#18442])

==== Techniques

* Fixed: ssh key distribution techniques doesn't accept - in user login
    (https://issues.rudder.io/issues/18449[#18449])

==== Miscellaneous

* Fixed: Update file from remote template doc
    (https://issues.rudder.io/issues/18632[#18632])

==== Generic methods - File Management

* Fixed: Create a file from remote template generic method
    (https://issues.rudder.io/issues/18384[#18384])
* Fixed: Flag the file_augeas_set to stagging since the method does not work as intended
    (https://issues.rudder.io/issues/18570[#18570])
* Fixed: File_augeas_set method does not report as expected
    (https://issues.rudder.io/issues/18536[#18536])
* Fixed: Document the permissions recursive and permissions type recursive methods
    (https://issues.rudder.io/issues/18447[#18447])
* Fixed: Permissions recursive method uses an undefined "recursion" variable in its report string
    (https://issues.rudder.io/issues/18446[#18446])
* Fixed: jinja templating script uses python3 even if jinja2 is not installed in python3 but is in python2
    (https://issues.rudder.io/issues/18416[#18416])

==== Generic methods

* Fixed: variable iterator should accept whitespace as separator
    (https://issues.rudder.io/issues/18562[#18562])
* Fixed: variable from command does not always report an error when the command failed
    (https://issues.rudder.io/issues/18512[#18512])
* Fixed: when sum of length of parameter is larger than 1000 characters, reporting leaks too much from one method to another
    (https://issues.rudder.io/issues/18505[#18505])
* Fixed: techniques in audit don't report correctly for editing values in files
    (https://issues.rudder.io/issues/18451[#18451])
* Fixed: Jinja2 templating fails with python 3 with unicode data
    (https://issues.rudder.io/issues/18441[#18441])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Florian Heigl

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 6.2.0.beta1 (2020-10-29)

=== Changes

==== Packaging

* Update dependencies for Rudder
    (https://issues.rudder.io/issues/18392[#18392])

==== Documentation

* Document Health Check in user doc
    (https://issues.rudder.io/issues/18350[#18350])

==== Web - Compliance & node report

* Make fields of node list customizable
    (https://issues.rudder.io/issues/7967[#7967])

==== Miscellaneous

* Add check for File Descriptor limit 
    (https://issues.rudder.io/issues/18414[#18414])
* Add check for free space
    (https://issues.rudder.io/issues/18357[#18357])

==== Web - UI & UX

* Beautify Global Parameters page
    (https://issues.rudder.io/issues/18418[#18418])
* Healthcheck notification in navigation bar
    (https://issues.rudder.io/issues/18328[#18328])
* Create Healthcheck webpage
    (https://issues.rudder.io/issues/18314[#18314])
* Beautify API accounts page
    (https://issues.rudder.io/issues/18389[#18389])
* Beautify Reports database page
    (https://issues.rudder.io/issues/18388[#18388])
* Beautify Event logs page
    (https://issues.rudder.io/issues/18366[#18366])
* Update settings UI
    (https://issues.rudder.io/issues/18263[#18263])
* Merge ncf editor into Rudder
    (https://issues.rudder.io/issues/18262[#18262])
* Add a shortcut to create directive with latest technique version from the tree
    (https://issues.rudder.io/issues/18164[#18164])
* Make the filter section of the directives tree foldable
    (https://issues.rudder.io/issues/18157[#18157])
* Use new UI template in Directives page
    (https://issues.rudder.io/issues/18076[#18076])

==== API

* Node status API must not return an error when the node is not here
    (https://issues.rudder.io/issues/17666[#17666])
* Add check name in healthcheck API
    (https://issues.rudder.io/issues/18363[#18363])
* Create healthcheck API 
    (https://issues.rudder.io/issues/18306[#18306])

==== Architecture - Dependencies

* Update dependencies for the webapp
    (https://issues.rudder.io/issues/18395[#18395])

==== Relay server or API

* Update relayd dependencies
    (https://issues.rudder.io/issues/18393[#18393])

==== Techniques

* Implement ips package repositories technique
    (https://issues.rudder.io/issues/18434[#18434])
* Create an "old-school" crontab technique to manage crontab in /var/spool/cron/crontabs
    (https://issues.rudder.io/issues/18228[#18228])

==== Generic methods

* Do not fix component key in generic methods reporting
    (https://issues.rudder.io/issues/18433[#18433])

==== Generic methods - Package Management

* Add solaris package support to ncf
    (https://issues.rudder.io/issues/18243[#18243])

=== Bug fixes

==== Packaging

* Fixed: Version rudder-api-client like Rudder on RPM
    (https://issues.rudder.io/issues/18435[#18435])

==== Plugins integration

* Fixed: All plugins are disabled after a minor upgrade
    (https://issues.rudder.io/issues/17878[#17878])

==== Documentation

* Fixed: Prepare doc for 6.2
    (https://issues.rudder.io/issues/18368[#18368])
* Fixed: Broken ncf doc build
    (https://issues.rudder.io/issues/18369[#18369])

==== Architecture - Refactoring

* Fixed: Fix compilation issues after merge
    (https://issues.rudder.io/issues/18443[#18443])

==== Architecture - Dependencies

* Fixed: Update to scala 2.13.3
    (https://issues.rudder.io/issues/18425[#18425])

==== Miscellaneous

* Fixed: Missing RudderConfig parameter pour healthcheck period 
    (https://issues.rudder.io/issues/18413[#18413])

==== Web - Nodes & inventories

* Fixed: Create hooks for when a node inventory is received
    (https://issues.rudder.io/issues/18379[#18379])
* Fixed: Support source package in Rudder inventory
    (https://issues.rudder.io/issues/18317[#18317])

==== Server components

* Fixed: Group owner of files under configuration-repository are inconsistent
    (https://issues.rudder.io/issues/18347[#18347])
* Fixed: Rudder SSL default configuration should follow the system default one
    (https://issues.rudder.io/issues/18338[#18338])

==== Relay server or API

* Fixed: Handle proxies in rudder package command
    (https://issues.rudder.io/issues/18326[#18326])
* Fixed: Handle proxies in rudder package command
    (https://issues.rudder.io/issues/18326[#18326])
* Fixed: Handle proxies in rudder package command
    (https://issues.rudder.io/issues/18326[#18326])
* Fixed: Handle proxies in rudder package command
    (https://issues.rudder.io/issues/18326[#18326])
* Fixed: Handle proxies in rudder package command
    (https://issues.rudder.io/issues/18326[#18326])

==== Technique editor - API

* Fixed: Technique editor doesn't use context path for API call
    (https://issues.rudder.io/issues/18374[#18374])

==== Web - UI & UX

* Fixed: Beautify Archives page
    (https://issues.rudder.io/issues/18365[#18365])
* Fixed: In the Technique Editor, tooltips no longer appear.
    (https://issues.rudder.io/issues/18334[#18334])
* Fixed: Some page sections blink while the Technique Editor is loading
    (https://issues.rudder.io/issues/18329[#18329])
* Fixed: Replace old notifications by those of Rudder
    (https://issues.rudder.io/issues/18324[#18324])

==== Web - Config management

* Fixed: Stop parsing os/agent from technique metadata
    (https://issues.rudder.io/issues/18340[#18340])

==== Performance and scalability

* Fixed: Unused index on table Ruddersysevents
    (https://issues.rudder.io/issues/18110[#18110])

==== System techniques

* Fixed: Cron for Rudder agent on solaris is invalid
    (https://issues.rudder.io/issues/18231[#18231])

==== Generic methods - Package Management

* Fixed: implement nim package manager 
    (https://issues.rudder.io/issues/18313[#18313])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Janos Mattyasovszky

This is a bug fix release in the 6.2 series and therefore all installations of 6.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

This page provides a summary of changes for each version.
