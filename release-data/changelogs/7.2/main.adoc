= Change logs for Rudder 7.2

==  Rudder 7.2.10 (2023-08-11)

=== Changes


=== Bug fixes

==== Documentation

* Fixed: doc for external db is not very clear
    (https://issues.rudder.io/issues/23245[#23245])
* Fixed: correct rudder server requirements in doc
    (https://issues.rudder.io/issues/23131[#23131])

==== Security

* Fixed: CVE-2016-1000027 false positive detection
    (https://issues.rudder.io/issues/23231[#23231])

==== Web - Technique editor

* Fixed: in the technique editor, the drop down list for condition is truncated
    (https://issues.rudder.io/issues/23177[#23177])

==== Web - UI & UX

* Fixed: Inventory variable that are Json types are listed as plain string types in the UI
    (https://issues.rudder.io/issues/23087[#23087])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.9 (2023-07-21)

=== Changes


==== Packaging

* rhel7 server build should depends on python3-pip and python3
    (https://issues.rudder.io/issues/23083[#23083])
* Repair rhel7 agent build
    (https://issues.rudder.io/issues/23080[#23080])

==== Performance and scalability

* Make commiting nodes to fact-repo optionnal
    (https://issues.rudder.io/issues/23045[#23045])

==== Web - UI & UX

* Remove heartbeat configuration from the settings
    (https://issues.rudder.io/issues/22659[#22659])

==== Agent

* Add a trust option to rudder agent policy-server
    (https://issues.rudder.io/issues/22629[#22629])

=== Bug fixes

==== Web - Nodes & inventories

* Fixed: 502 - Proxy Error when triggering Rudder agent
    (https://issues.rudder.io/issues/22998[#22998])

==== Documentation

* Fixed: Add relevent items from jetty config to the webapp conf section
    (https://issues.rudder.io/issues/23026[#23026])
* Fixed: Document the report mode setting
    (https://issues.rudder.io/issues/13289[#13289])
* Fixed: Documentation on how to upgrade Rudder to 7.2 is invalid on zypper
    (https://issues.rudder.io/issues/22621[#22621])

==== Web - Compliance & node report

* Fixed: Bad report maching when reportid are present
    (https://issues.rudder.io/issues/22388[#22388])
* Fixed: Multiline string in component name or value breaks pattern comparison for expected report
    (https://issues.rudder.io/issues/23090[#23090])

==== Miscellaneous

* Fixed: Generation not queued when one already started
    (https://issues.rudder.io/issues/23074[#23074])

==== Web - Technique editor

* Fixed: When changes messages are mandatory and saving a technique we have an error message about missing info but technique is saved
    (https://issues.rudder.io/issues/23000[#23000])

==== Architecture - Code maintenance

* Fixed: Cache most current Version number to save lots of memory
    (https://issues.rudder.io/issues/22978[#22978])

==== Server components

* Fixed: Grammar correction in error message
    (https://issues.rudder.io/issues/23027[#23027])

==== Web - UI & UX

* Fixed: Directives tooltips go under navigation menu
    (https://issues.rudder.io/issues/22530[#22530])

==== Techniques

* Fixed: Update user management to manage secondary group of user
    (https://issues.rudder.io/issues/22846[#22846])
* Fixed: Update user management to manage secondary group of user
    (https://issues.rudder.io/issues/22846[#22846])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.8 (2023-07-03)

=== Changes


==== Web - Config management

* Display inventory variables and values in node details
    (https://issues.rudder.io/issues/22864[#22864])

==== Web - Technique editor

* Improving the display of Generic Methods in the Technique Editor for a better UX
    (https://issues.rudder.io/issues/22896[#22896])

==== Web - Nodes & inventories

* OS and hardware inventory information are not discoverable
    (https://issues.rudder.io/issues/22807[#22807])

==== Generic methods

* Add a methd to force the secondary groups of a user
    (https://issues.rudder.io/issues/22722[#22722])

=== Bug fixes

==== Packaging

* Fixed: slackware postinst fails because library links are made too late
    (https://issues.rudder.io/issues/22974[#22974])
* Fixed: slackware doesn't install initscript
    (https://issues.rudder.io/issues/22962[#22962])
* Fixed: Update embedded openssl to 1.1.1u
    (https://issues.rudder.io/issues/22886[#22886])
* Fixed: build-cache share cache between different rudder versions
    (https://issues.rudder.io/issues/22850[#22850])
* Fixed: Disable http2 in embedded curl
    (https://issues.rudder.io/issues/22809[#22809])
* Fixed: Missing python3 on AL2 leads to missing generic methods in technique editor and big red error
    (https://issues.rudder.io/issues/22551[#22551])
* Fixed: Useless python sed for rhel7 agent package
    (https://issues.rudder.io/issues/22804[#22804])
* Fixed: git is a build dependency for rudder-server package
    (https://issues.rudder.io/issues/22782[#22782])
* Fixed: Typos-cli does not build anymore
    (https://issues.rudder.io/issues/22924[#22924])

==== Agent

* Fixed: Use dist-upgrade on apt systems to see list of pending upgrades
    (https://issues.rudder.io/issues/22839[#22839])

==== Performance and scalability

* Fixed: resources sent to the browser are not compressed when using a custom cetificate
    (https://issues.rudder.io/issues/22749[#22749])
* Fixed: When we arrive on the node search page with a query pre-filed, the query is done twice
    (https://issues.rudder.io/issues/21236[#21236])

==== Documentation

* Fixed: Inventory variable doc is wrong about evaluation process
    (https://issues.rudder.io/issues/22956[#22956])
* Fixed: Missing postgres version in requirement
    (https://issues.rudder.io/issues/22901[#22901])
* Fixed: Documentation for windows node inventory variable is false
    (https://issues.rudder.io/issues/22865[#22865])
* Fixed: Documentation for windows node inventory variable is false
    (https://issues.rudder.io/issues/22865[#22865])
* Fixed: missing parameters in ruledetails api response
    (https://issues.rudder.io/issues/22783[#22783])

==== Architecture - Code maintenance

* Fixed: error in node variable parser for policy server
    (https://issues.rudder.io/issues/22958[#22958])

==== CI

* Fixed: add label to rudder docker images
    (https://issues.rudder.io/issues/22914[#22914])
* Fixed: add label to rudder-techniques docker images
    (https://issues.rudder.io/issues/22922[#22922])
* Fixed: add label to ncf docker images
    (https://issues.rudder.io/issues/22913[#22913])

==== Web - Maintenance

* Fixed: NodeProperties value are not correctly serialized in event log
    (https://issues.rudder.io/issues/22946[#22946])
* Fixed: Too many "Policy Update Started" in event logs
    (https://issues.rudder.io/issues/22879[#22879])

==== Server components

* Fixed: Disable post-generation remote-run by default
    (https://issues.rudder.io/issues/22871[#22871])
* Fixed: Use 8080 port to talk with the webapp in hooks
    (https://issues.rudder.io/issues/22870[#22870])

==== Web - UI & UX

* Fixed: diff on node properties in event log (at least) is broken
    (https://issues.rudder.io/issues/22933[#22933])
* Fixed: Long change request diff is unusable
    (https://issues.rudder.io/issues/22919[#22919])
* Fixed: TODOs in the UI
    (https://issues.rudder.io/issues/22880[#22880])
* Fixed: Button to add/remove more entries indirectives are inside entries
    (https://issues.rudder.io/issues/22654[#22654])

==== Miscellaneous

* Fixed: Update relayd rust-openssl dependency due to RUSTSEC-2023-0044
    (https://issues.rudder.io/issues/22943[#22943])

==== Web - Nodes & inventories

* Fixed: When we clone a group in Rudder 7.2, newly added properties are not cloned
    (https://issues.rudder.io/issues/22702[#22702])
* Fixed: NPE gz inventory file is corrupted
    (https://issues.rudder.io/issues/22874[#22874])

==== Techniques

* Fixed: Method calls using a condition are not properly generated when a variable is used in the condition expression
    (https://issues.rudder.io/issues/22785[#22785])

==== Generic methods

* Fixed: Add a full class prefix in user_secondary_group
    (https://issues.rudder.io/issues/22866[#22866])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.7 (2023-05-18)

=== Changes


==== Packaging

* Add debian12 support to agent package
    (https://issues.rudder.io/issues/22747[#22747])

==== Architecture - Internal libs

* Backport scala 2.13 change for scala 3.0 migration
    (https://issues.rudder.io/issues/22723[#22723])

==== Web - Nodes & inventories

* VM type is missing in group criteria
    (https://issues.rudder.io/issues/19803[#19803])

=== Bug fixes

==== Server components

* Fixed: silent rudder-upgrade failure / plugins were not upgraded when upgrading from 7.2.5 to 7.3.1~nightly
    (https://issues.rudder.io/issues/22689[#22689])

==== Agent

* Fixed: Errors with Rudder agent on unprivileged containers (LXC)
    (https://issues.rudder.io/issues/15636[#15636])

==== System integration

* Fixed: Postgresql is not created with the UTF8 encoding
    (https://issues.rudder.io/issues/20937[#20937])

==== Packaging

* Fixed: Missing dependency on ps command on RHEL8+
    (https://issues.rudder.io/issues/22727[#22727])
* Fixed: pip3 refuses to install modules in a system with packages python modules
    (https://issues.rudder.io/issues/22763[#22763])

==== Documentation

* Fixed: Backup/restore documentation is missing some important folder backups when using plugins
    (https://issues.rudder.io/issues/22756[#22756])
* Fixed: Installation documentation should use ' instead of " to avoid unwanted bash string interpretation
    (https://issues.rudder.io/issues/22737[#22737])

==== Web - Nodes & inventories

* Fixed: No local account shown on windows
    (https://issues.rudder.io/issues/22387[#22387])

==== Security

* Fixed: Error when trying to save a property using xml tags but property actually saved
    (https://issues.rudder.io/issues/19519[#19519])
* Fixed: Healthcheck notification is displayed when a user have no right
    (https://issues.rudder.io/issues/22625[#22625])

==== Web - Compliance & node report

* Fixed: Warn sign in nodes list for disabled nodes
    (https://issues.rudder.io/issues/19545[#19545])

==== Generic methods

* Fixed: Reporting error when using a dash for SSH authorized keys method
    (https://issues.rudder.io/issues/22724[#22724])
* Fixed: condition from variable match does not work with node properties
    (https://issues.rudder.io/issues/21026[#21026])
* Fixed: file augeas set doesn't when value have space
    (https://issues.rudder.io/issues/22725[#22725])
* Fixed: Method File augeas set does not clean augnew files
    (https://issues.rudder.io/issues/22718[#22718])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Stefan Schmitt

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.6 (2023-05-04)

=== Changes


==== Documentation

* Add documentation about optional anonymous data collection
    (https://issues.rudder.io/issues/22673[#22673])

==== CI

* Notify different channel for security dependency check
    (https://issues.rudder.io/issues/22687[#22687])

==== Web - Nodes & inventories

* Display sha256 key hash in node details
    (https://issues.rudder.io/issues/22633[#22633])
* Add tests for linux inventory signature with certificate
    (https://issues.rudder.io/issues/22528[#22528])

==== Generic methods

* Explain flag mechanism for "once" method
    (https://issues.rudder.io/issues/22596[#22596])

=== Bug fixes

==== Packaging

* Fixed: Rudder agent force a lot of dependencies on RHEL9 
    (https://issues.rudder.io/issues/22610[#22610])
* Fixed: rudder-init replaces rudder-db password at postinst
    (https://issues.rudder.io/issues/22608[#22608])

==== Agent

* Fixed: rudder-sign says "hostname: command not found"
    (https://issues.rudder.io/issues/22452[#22452])
* Fixed: A node update in bootstrap/initial policies should not fail
    (https://issues.rudder.io/issues/20996[#20996])
* Fixed: Connection timeout to server are too long
    (https://issues.rudder.io/issues/22540[#22540])
* Fixed: Allow skipping reporting when it is disabled
    (https://issues.rudder.io/issues/22653[#22653])

==== Server components

* Fixed: "reportid" missing in PostgreSQL database after upgrade from v6.2.12 to v7.2.3
    (https://issues.rudder.io/issues/22315[#22315])

==== Documentation

* Fixed: Problem in Server backup and migration documentation
    (https://issues.rudder.io/issues/22313[#22313])
* Fixed: Update screenshot of the dashboard
    (https://issues.rudder.io/issues/22634[#22634])
* Fixed: API Documentation errors for trigger agent run
    (https://issues.rudder.io/issues/22565[#22565])

==== Miscellaneous

* Fixed: Ignore CVE 2023-20860 
    (https://issues.rudder.io/issues/22708[#22708])
* Fixed: Missing "latest" in archive API tests leads to error with upmerge
    (https://issues.rudder.io/issues/22636[#22636])

==== Security

* Fixed: Ignore RUSTSEC-2023-0034 in relayd
    (https://issues.rudder.io/issues/22706[#22706])
* Fixed: upgrade postgresql drive for CVE CVE-2022-41946
    (https://issues.rudder.io/issues/22637[#22637])
* Fixed: Stackoverflow if {} used in place of [] for properties in node create api
    (https://issues.rudder.io/issues/22617[#22617])
* Fixed: Update spring-core to 5.3.26
    (https://issues.rudder.io/issues/22586[#22586])
* Fixed: Allow iframes from the same origin
    (https://issues.rudder.io/issues/22522[#22522])
* Fixed: Update openssl crate to fix several vulnerabilities
    (https://issues.rudder.io/issues/22532[#22532])

==== Web - Campaigns

* Fixed: We should initialize campaign service after plugin were added or else current events will be skipped (before being added again)
    (https://issues.rudder.io/issues/22646[#22646])

==== Web - UI & UX

* Fixed: It's hard to understand which authentication backend failed when a fallback happens
    (https://issues.rudder.io/issues/20396[#20396])
* Fixed:  Pending nodes History Tab shows duplicate entries
    (https://issues.rudder.io/issues/19258[#19258])
* Fixed:  Tooltip on enforce/audit label in rules title not working
    (https://issues.rudder.io/issues/20788[#20788])
* Fixed: when we save a rule category, the button save never stops saving
    (https://issues.rudder.io/issues/22524[#22524])
* Fixed: there is a space before all texts in the node details page, so copy and paste include it
    (https://issues.rudder.io/issues/21417[#21417])
* Fixed: rules/directives/cancel button doesn't work
    (https://issues.rudder.io/issues/22517[#22517])
* Fixed: System group preview description are not displayed
    (https://issues.rudder.io/issues/18583[#18583])
* Fixed: Rule list doesn't appear anymore in a rule category
    (https://issues.rudder.io/issues/22103[#22103])
* Fixed: When shared folder file list is too long the selector fail
    (https://issues.rudder.io/issues/22110[#22110])
* Fixed: Change name parameter "Rudder ID" for group id
    (https://issues.rudder.io/issues/22581[#22581])
* Fixed: Shadow overlapping on first menu entry
    (https://issues.rudder.io/issues/21683[#21683])

==== Web - Maintenance

* Fixed: JGitInternalError on HistorizeNodeCountService
    (https://issues.rudder.io/issues/22616[#22616])
* Fixed: password=LDAP produces error logs in webapp
    (https://issues.rudder.io/issues/21978[#21978])

==== Architecture - Dependencies

* Fixed: Update spring to 5.3.27 and spring-security 5.7.8
    (https://issues.rudder.io/issues/22668[#22668])

==== Relay server or API

* Fixed: Broken shared-files cleanup when file id contains a dot
    (https://issues.rudder.io/issues/22652[#22652])

==== System integration

* Fixed: Log in hook should got to /var/log and not /tmp
    (https://issues.rudder.io/issues/22649[#22649])

==== Web - Config management

* Fixed: Error log at boot: Can not find active technique with id 'test_import_export_archive}'
    (https://issues.rudder.io/issues/22614[#22614])

==== API

* Fixed: List Managed Nodes API with any of the fields listed in the "full" never answer
    (https://issues.rudder.io/issues/22534[#22534])

==== Web - Technique editor

* Fixed: In technique editor, technique with missing generic method need a warning icon
    (https://issues.rudder.io/issues/12282[#12282])

==== Techniques

* Fixed: Mustache template is not capable to render technique parameters on windows nodes
    (https://issues.rudder.io/issues/22535[#22535])

==== System techniques

* Fixed: Always send start/end reports even in changes-only mode
    (https://issues.rudder.io/issues/22655[#22655])

==== Generic methods

* Fixed: Augeas set method does not correctly handle successive calls
    (https://issues.rudder.io/issues/22677[#22677])
* Fixed: report_if_condition report contain twice "was correct"
    (https://issues.rudder.io/issues/22665[#22665])
* Fixed: Missleading use of parameter variable_name in method condition_from_variable_match
    (https://issues.rudder.io/issues/22620[#22620])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Lars Koenen

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.5 (2023-03-28)

=== Changes


==== Web - Config management

* Persisted rule should have sorted groups/directives
    (https://issues.rudder.io/issues/18215[#18215])

==== Documentation

* Add missing documentation for CVE API
    (https://issues.rudder.io/issues/22446[#22446])
* Add missing documentation for CVE API
    (https://issues.rudder.io/issues/22446[#22446])

==== Web - UI & UX

* Edit properties is not intuitive
    (https://issues.rudder.io/issues/21918[#21918])
* Missing a loading info when a technique it is being saved
    (https://issues.rudder.io/issues/21929[#21929])

==== System integration

* Make specs2 test console output more detailed
    (https://issues.rudder.io/issues/22419[#22419])

==== Architecture - Internal libs

* Fix version maven-resources-plugin to 3.1.0, instead of relying on maven default version
    (https://issues.rudder.io/issues/22403[#22403])

==== Performance and scalability

* Make parsing "process" in inventory optional
    (https://issues.rudder.io/issues/22359[#22359])

==== Security

* Allow iframes from the same origin
    (https://issues.rudder.io/issues/22374[#22374])

=== Bug fixes

==== Packaging

* Fixed: rudder-server-postinst fails to update rudder-web.properties
    (https://issues.rudder.io/issues/22495[#22495])
* Fixed: Error when installing Rudder 6.2.13 on almalinux 8
    (https://issues.rudder.io/issues/21252[#21252])
* Fixed: patch fusioninventory to detect correctly rockylinux
    (https://issues.rudder.io/issues/22334[#22334])

==== System integration

* Fixed: Rudder-jetty timeout is the systemd default one and may be short
    (https://issues.rudder.io/issues/22377[#22377])
* Fixed: Parent fix does not work: Fusioninventory is not tracked by check-rudder-health
    (https://issues.rudder.io/issues/11102[#11102])

==== Documentation

* Fixed: Provide info to user about java-openjdk11-headless alternatives for AL2
    (https://issues.rudder.io/issues/22499[#22499])
* Fixed: Broken doc build after plugins doc change
    (https://issues.rudder.io/issues/22490[#22490])
* Fixed: Bad documentation leads to package build failing when building for armhf
    (https://issues.rudder.io/issues/17868[#17868])
* Fixed: doc about configuring repositories on debian is confusing for the rudder server
    (https://issues.rudder.io/issues/22396[#22396])
* Fixed: Remove outdated stuff about the technique editor
    (https://issues.rudder.io/issues/22420[#22420])
* Fixed: Broken link to rudder-announce ML
    (https://issues.rudder.io/issues/22416[#22416])
* Fixed: versions in Rudder doc are invalid
    (https://issues.rudder.io/issues/21750[#21750])
* Fixed: List of authentication backend is invalid in the documentation (includes Radius)
    (https://issues.rudder.io/issues/22406[#22406])
* Fixed: Backport hardening guide to 7.2
    (https://issues.rudder.io/issues/22405[#22405])
* Fixed: documentation about default login/password is invalid
    (https://issues.rudder.io/issues/22367[#22367])
* Fixed: network requirement in documentation are invalid
    (https://issues.rudder.io/issues/22366[#22366])
* Fixed: Wrong Table name inside documentation
    (https://issues.rudder.io/issues/22128[#22128])
* Fixed: document in the getting started that virtualbox needs a list of authorized IP
    (https://issues.rudder.io/issues/21485[#21485])
* Fixed: Inconsistency in API doc for allowed network
    (https://issues.rudder.io/issues/22467[#22467])

==== Web - Compliance & node report

* Fixed: Sorting by Compliance doesn't sort in the rule details
    (https://issues.rudder.io/issues/21182[#21182])
* Fixed: missing report in change only
    (https://issues.rudder.io/issues/22371[#22371])
* Fixed: Nodes not answering are seen in "missing" rather than in "no reports"
    (https://issues.rudder.io/issues/22375[#22375])

==== Web - Config management

* Fixed: Policy generation broken when defining a group with invert result of inclusion of another group
    (https://issues.rudder.io/issues/21924[#21924])
* Fixed: Generate policies for campaigns before it starts officially, delete them after it stops (1 hour delay each)
    (https://issues.rudder.io/issues/22378[#22378])
* Fixed: User should be able to accept change request even with divergences
    (https://issues.rudder.io/issues/22363[#22363])
* Fixed: Hook timeout may not have the good value
    (https://issues.rudder.io/issues/22339[#22339])

==== Web - Technique editor

* Fixed: There is one more minus in deleted resources counter within technique editor
    (https://issues.rudder.io/issues/22475[#22475])

==== Web - UI & UX

* Fixed: Technique ID and group ID are juste listed as "ID" in the UI when other IDs are listed with their long name
    (https://issues.rudder.io/issues/21369[#21369])
* Fixed: Rule is in mixed mode even though she has only one directive in audit
    (https://issues.rudder.io/issues/21731[#21731])
* Fixed: typo about licensed plugin
    (https://issues.rudder.io/issues/22463[#22463])
* Fixed: Add an animation when the rules table loads
    (https://issues.rudder.io/issues/22449[#22449])
* Fixed: Missing tooltip on unused directives icon
    (https://issues.rudder.io/issues/22428[#22428])
* Fixed: Show all in technical details table doesn't work
    (https://issues.rudder.io/issues/22107[#22107])
* Fixed: Plugins-repository URL from plugins pages redirect to home page
    (https://issues.rudder.io/issues/21346[#21346])

==== Web - Nodes & inventories

* Fixed: On "Node search" page, we can click on "Create node group from this query" even if there were no query
    (https://issues.rudder.io/issues/19986[#19986])
* Fixed: Inventory error when missing tag POLICY_SERVER_UUID talk about POLICY_SERVER
    (https://issues.rudder.io/issues/22453[#22453])
* Fixed: Add Raspbian to the list of recognized OS
    (https://issues.rudder.io/issues/22345[#22345])
* Fixed: some nodes are called "localhost" since #8022
    (https://issues.rudder.io/issues/22326[#22326])

==== Miscellaneous

* Fixed: Update commons fileupload dependency to prevent CVE-2023-24998
    (https://issues.rudder.io/issues/22433[#22433])
* Fixed: Healthcheck on file descriptor should be max 64000
    (https://issues.rudder.io/issues/22430[#22430])

==== Security

* Fixed: RUSTSEC-2023-0018  in remove_dir_all
    (https://issues.rudder.io/issues/22432[#22432])
* Fixed: RUSTSEC-2023-0018  in remove_dir_all
    (https://issues.rudder.io/issues/22432[#22432])
* Fixed: RUSTSEC-2023-0018  in remove_dir_all
    (https://issues.rudder.io/issues/22432[#22432])
* Fixed: Ignore CVE-2023-22895 in relayd
    (https://issues.rudder.io/issues/22354[#22354])
* Fixed: Update the embedded openssl to 1.1.1t
    (https://issues.rudder.io/issues/22351[#22351])
* Fixed: Ignore RUSTSEC-2022-0082
    (https://issues.rudder.io/issues/22328[#22328])

==== Relay server or API

* Fixed: File from shared folder method does not support special characters in the source path
    (https://issues.rudder.io/issues/20834[#20834])

==== API

* Fixed: Cannot list directives with API
    (https://issues.rudder.io/issues/22314[#22314])

==== System techniques

* Fixed: A 6.2 relay cannot talk to a 7.2 server through HTTPS
    (https://issues.rudder.io/issues/22402[#22402])
* Fixed: Changes only does not support campaign reports 
    (https://issues.rudder.io/issues/22240[#22240])

==== Generic methods

* Fixed: file key value parameter in list accepts entries without separator
    (https://issues.rudder.io/issues/22322[#22322])
* Fixed: Descriptin of permissions dirs recursive is misleading
    (https://issues.rudder.io/issues/17122[#17122])

==== Agent

* Fixed: "Using the default value 'true' for attribute rxdirs" waning in agent run output
    (https://issues.rudder.io/issues/22393[#22393])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Alexis TARUSSIO
* Nicolas Ecarnot

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.4 (2023-01-25)

=== Changes


==== Packaging

* Add server build dependencies to build al2 packages on rhel7
    (https://issues.rudder.io/issues/22256[#22256])

==== CI

* Improve ci notification on repaired and error
    (https://issues.rudder.io/issues/22250[#22250])

==== Web - Nodes & inventories

* Housekeeping of /var/rudder/inventories/received|failed|etc
    (https://issues.rudder.io/issues/7526[#7526])
* Add a log file along with rejected inventories with cause
    (https://issues.rudder.io/issues/22211[#22211])

=== Bug fixes

==== Packaging

* Fixed: On rhel postinst uses yum creating a deadlock
    (https://issues.rudder.io/issues/22267[#22267])
* Fixed: Add openssl11 as dependency on AL2
    (https://issues.rudder.io/issues/22258[#22258])
* Fixed: Ignore RUSTSEC-2023-0001 in relayd
    (https://issues.rudder.io/issues/22249[#22249])

==== Web - Nodes & inventories

* Fixed: Inventory are rejected due to missing dependencies on the server
    (https://issues.rudder.io/issues/22257[#22257])
* Fixed: Do not trigger a group reload if last check is younger than 100 ms
    (https://issues.rudder.io/issues/22210[#22210])

==== Documentation

* Fixed: Explain in migration doc that jetty start.ini format changed in 7.2
    (https://issues.rudder.io/issues/22289[#22289])
* Fixed: Broken links in docs homepage
    (https://issues.rudder.io/issues/22286[#22286])
* Fixed: Remove  checkpoint_segments from database optimsation doc
    (https://issues.rudder.io/issues/22281[#22281])
* Fixed: Install headless jdk on AL2
    (https://issues.rudder.io/issues/22266[#22266])
* Fixed: Documentation for Modify Settings example missing parameter
    (https://issues.rudder.io/issues/22225[#22225])

==== Web - Campaigns

* Fixed: Running deleted campaign don't get their directive cleaned-up 
    (https://issues.rudder.io/issues/22139[#22139])

==== Security

* Fixed: Workaround for CVE-2022-46176 in cargo
    (https://issues.rudder.io/issues/22294[#22294])
* Fixed: Add includeSubdomains to HSTS header
    (https://issues.rudder.io/issues/22248[#22248])

==== Web - UI & UX

* Fixed: Today button doesn't work in datepicker in report database page
    (https://issues.rudder.io/issues/22291[#22291])
* Fixed: Make the Techniques search case-insensitive
    (https://issues.rudder.io/issues/22283[#22283])

==== Web - Maintenance

* Fixed: Dynamic group logs must not be conflated with scheduled job ones
    (https://issues.rudder.io/issues/22209[#22209])

==== Web - Compliance & node report

* Fixed: Missing support for Windows 2022
    (https://issues.rudder.io/issues/22216[#22216])

==== Techniques

* Fixed: unexpected reports with checkGenericFileContent
    (https://issues.rudder.io/issues/20598[#20598])

==== Relay server or API

* Fixed: Broken policies update with rsync method
    (https://issues.rudder.io/issues/22207[#22207])

==== Server components

* Fixed: All rudder commands using the API don't detect the port of the webapp when we configure a virtualhost with a different port
    (https://issues.rudder.io/issues/21216[#21216])

==== Generic methods

* Fixed: Missing cf-promises binary to run the ncf 'quick' tests
    (https://issues.rudder.io/issues/22243[#22243])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Janos Mattyasovszky

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== [Private] Rudder 7.2.3 (2022-12-19)

=== Changes

[WARNING]
====

This version is only available for extended support subscription

====
    

==== Architecture - Internal libs

* Update Javascript libraries
    (https://issues.rudder.io/issues/22011[#22011])

==== System techniques

* Automatically convert some properties to conditions on the agent
    (https://issues.rudder.io/issues/22173[#22173])

==== Generic methods

* Add support for Snap package manager to package methods
    (https://issues.rudder.io/issues/22055[#22055])

=== Bug fixes

==== Packaging

* Fixed: Missing diverted file in rudder-relay package
    (https://issues.rudder.io/issues/22193[#22193])
* Fixed: aix postinst doesn't install a crontab fo rudder agent check
    (https://issues.rudder.io/issues/22167[#22167])

==== Web - Nodes & inventories

* Fixed: Authorize "_" (underscore) in hostname / fqdn
    (https://issues.rudder.io/issues/22186[#22186])

==== Security

* Fixed: Backport front end security improvements to 7.2
    (https://issues.rudder.io/issues/22146[#22146])

==== Web - Campaigns

* Fixed: Monthly schedule in January/December can be wrong
    (https://issues.rudder.io/issues/22176[#22176])

==== Web - Config management

* Fixed: Cannot deploy changes on a group where properties are defined with a validated user
    (https://issues.rudder.io/issues/22178[#22178])

==== Architecture - Dependencies

* Fixed: Update spring version to last one on rudder 7.2
    (https://issues.rudder.io/issues/22169[#22169])

==== Server components

* Fixed: Command seq not found in crontab on AIX
    (https://issues.rudder.io/issues/21858[#21858])

==== System techniques

* Fixed: crontab edition is ignored on aix
    (https://issues.rudder.io/issues/22168[#22168])

==== Agent

* Fixed: rudder agent check -q always exit 1
    (https://issues.rudder.io/issues/22166[#22166])

==== Generic methods

* Fixed: when there are no python installed on a node, tempate from jinja2 and packages generic method fail without explaining why
    (https://issues.rudder.io/issues/22122[#22122])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.2 (2022-11-30)

=== Changes


==== Documentation

* Documentation for FQDN overriding
    (https://issues.rudder.io/issues/21952[#21952])
* Update api doc tooling
    (https://issues.rudder.io/issues/21991[#21991])

==== API

* Log all API errors
    (https://issues.rudder.io/issues/22124[#22124])
* Make campaign api public
    (https://issues.rudder.io/issues/22083[#22083])

==== Architecture - Dependencies

* Add jdk 19 to compatibility tests
    (https://issues.rudder.io/issues/21994[#21994])

==== Architecture - Refactoring

* Auto-format scala code
    (https://issues.rudder.io/issues/21741[#21741])

==== Web - Maintenance

* logback.xml should contains examples of specific plugins loggers
    (https://issues.rudder.io/issues/21945[#21945])

==== Agent

* Add a command to restore a file modified by rudder
    (https://issues.rudder.io/issues/22089[#22089])

=== Bug fixes

==== Agent

* Fixed: rudder-signature check fail to start
    (https://issues.rudder.io/issues/22097[#22097])
* Fixed: Multiline commands in technique are nor parsed correctly by cli
    (https://issues.rudder.io/issues/22120[#22120])

==== Packaging

* Fixed: On some systems rudder agent check always restart the service
    (https://issues.rudder.io/issues/22087[#22087])
* Fixed: Step is not correctly set in rudder upgrade script
    (https://issues.rudder.io/issues/22050[#22050])

==== Documentation

* Fixed: Windows agent exe link in install doc does not point to the right folder
    (https://issues.rudder.io/issues/22046[#22046])
* Fixed: Postgresql upgrade guid lead to nothing
    (https://issues.rudder.io/issues/21979[#21979])
* Fixed: Missing ubuntu 22.04 LTS supported OS for relay and server
    (https://issues.rudder.io/issues/21835[#21835])

==== Web - Campaigns

* Fixed: Avoid infinite loop in event scheduler when there is an error
    (https://issues.rudder.io/issues/22141[#22141])
* Fixed: Id to start looking for report json should not be zero but highest id.
    (https://issues.rudder.io/issues/22129[#22129])
* Fixed: One shot campaign create event infinitely
    (https://issues.rudder.io/issues/22041[#22041])

==== Web - UI & UX

* Fixed: Click on graph node with "applying" compliance lead to JS error 
    (https://issues.rudder.io/issues/22134[#22134])
* Fixed: Deleting custom column in based on a property in nodes list fails
    (https://issues.rudder.io/issues/22092[#22092])
* Fixed: Transform tabs of the directives into real tabs
    (https://issues.rudder.io/issues/22086[#22086])
* Fixed: Missing use of contextPath in some js files
    (https://issues.rudder.io/issues/21944[#21944])

==== Miscellaneous

* Fixed: Windows generic method parameters are always written "mandatory=true" even when "mayBeEmpty" 
    (https://issues.rudder.io/issues/22126[#22126])
* Fixed: Missing epoch string in search node query from pie chart
    (https://issues.rudder.io/issues/22015[#22015])

==== Web - Technique editor

* Fixed: Errors of script that write technique.json during upgrade should be ignored
    (https://issues.rudder.io/issues/21957[#21957])
* Fixed: Focus change on the first character in input box for method's condition
    (https://issues.rudder.io/issues/21323[#21323])
* Fixed: There are no visual indication that a field contains multiline text in technique editor
    (https://issues.rudder.io/issues/21982[#21982])
* Fixed: At least on windows, technique editor parameters can not handle "_" char
    (https://issues.rudder.io/issues/14371[#14371])

==== System integration

* Fixed: Delete action for node is not the correct one because of merge 
    (https://issues.rudder.io/issues/22121[#22121])

==== Web - Config management

* Fixed: Creating a global parameter doesn't trigger a policy generation in Rudder 6.2, 7.1 and 7.2
    (https://issues.rudder.io/issues/22106[#22106])
* Fixed: When reading methods, if generic_methods.json does not exists, rudder should generate it
    (https://issues.rudder.io/issues/22100[#22100])
* Fixed: Generated policies are invalid for Windows using powershell 4
    (https://issues.rudder.io/issues/22074[#22074])

==== Web - Nodes & inventories

* Fixed: Missing error log for inventory with bad signature
    (https://issues.rudder.io/issues/22099[#22099])

==== CI

* Fixed: Fix various builds errors after build containers update
    (https://issues.rudder.io/issues/22084[#22084])

==== API

* Fixed: Import directive API fail for user technique
    (https://issues.rudder.io/issues/22036[#22036])
* Fixed: Error ir create node API example in docs
    (https://issues.rudder.io/issues/22017[#22017])

==== Security

* Fixed: Spring-security is impacted by CVE-2022-31692
    (https://issues.rudder.io/issues/22044[#22044])

==== Relay server or API

* Fixed: rudder_relayd filling /var/log/daemon.log (Invalid report)
    (https://issues.rudder.io/issues/22029[#22029])

==== Techniques

* Fixed: Update technique with / in name lead to error
    (https://issues.rudder.io/issues/21964[#21964])
* Fixed: disable other repositories in apt source technique doesn't work
    (https://issues.rudder.io/issues/21960[#21960])

==== System techniques

* Fixed: sles_11 is not properly defined when SLES_11 is
    (https://issues.rudder.io/issues/22091[#22091])

==== Generic methods

* Fixed: Audit from command does not support iterator
    (https://issues.rudder.io/issues/21953[#21953])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Nicolas Ecarnot
* Alexis TARUSSIO

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.3 (2022-12-19)

=== Changes


==== Architecture - Internal libs

* Security updates of various Javascript libraries
    (https://issues.rudder.io/issues/22011[#22011])

==== System techniques

* Automatically convert some properties to conditions on the agent
    (https://issues.rudder.io/issues/22173[#22173])

==== Generic methods

* Add support for Snap package manager to package methods
    (https://issues.rudder.io/issues/22055[#22055])

=== Bug fixes

==== Packaging

* Fixed: Missing diverted file in rudder-relay package
    (https://issues.rudder.io/issues/22193[#22193])
* Fixed: AIX agent postinst doesn't install a crontab for "rudder agent check"
    (https://issues.rudder.io/issues/22167[#22167])

==== Web - Nodes & inventories

* Fixed: Authorize "_" (underscore) in hostname / fqdn
    (https://issues.rudder.io/issues/22186[#22186])

==== Security

* Fixed: Backport front end security improvements to 7.2
    (https://issues.rudder.io/issues/22146[#22146])

==== Web - Campaigns

* Fixed: Monthly schedule in January/December can be wrong
    (https://issues.rudder.io/issues/22176[#22176])

==== Web - Config management

* Fixed: Cannot deploy changes on a group where properties are defined with a validated user
    (https://issues.rudder.io/issues/22178[#22178])

==== Architecture - Dependencies

* Fixed: Update spring version to latest one
    (https://issues.rudder.io/issues/22169[#22169])

==== Server components

* Fixed: Command seq not found in crontab on AIX
    (https://issues.rudder.io/issues/21858[#21858])

==== System techniques

* Fixed: crontab edition is ignored on AIX
    (https://issues.rudder.io/issues/22168[#22168])

==== Agent

* Fixed: "rudder agent check -q" always exits with 1
    (https://issues.rudder.io/issues/22166[#22166])

==== Generic methods

* Fixed: Improve error reporting when applying a method requiring python and python is missing
    (https://issues.rudder.io/issues/22122[#22122])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 7.2.1 (2022-10-12)

=== Changes


==== Documentation

* Document the changes done to the windows agent in the 7.2 release
    (https://issues.rudder.io/issues/21890[#21890])

==== System techniques

* Remove system update technique from Rudder
    (https://issues.rudder.io/issues/21910[#21910])
* Use dist-upgrade for system-update
    (https://issues.rudder.io/issues/21906[#21906])

==== CI

* Remove system-update technique tests
    (https://issues.rudder.io/issues/21920[#21920])

=== Bug fixes

==== Security

* Fixed: CVE in rudder-jetty - 7.2
    (https://issues.rudder.io/issues/21887[#21887])
* Fixed: CVE in Jetty 9.4.32 Rudder 6.2
    (https://issues.rudder.io/issues/21888[#21888])
* Fixed: CVE in nuprocess 2.03 and below
    (https://issues.rudder.io/issues/21893[#21893])

==== Documentation

* Fixed: Format of target group is wrong in API doc
    (https://issues.rudder.io/issues/21935[#21935])

==== Web - UI & UX

* Fixed: User technique should be on top in directive tree
    (https://issues.rudder.io/issues/21917[#21917])
* Fixed: Unable to sort on property in list of nodes tab
    (https://issues.rudder.io/issues/21503[#21503])
* Fixed: Chart show the tooltips only when clicking
    (https://issues.rudder.io/issues/21911[#21911])

==== Miscellaneous

* Fixed: Quick search does not return node name when looking for properties but node id instead
    (https://issues.rudder.io/issues/21901[#21901])
* Fixed: System techniques should not be displayed in directive tree
    (https://issues.rudder.io/issues/21892[#21892])

==== CI

* Fixed: Broken Java 17 tests on 7.2+
    (https://issues.rudder.io/issues/21900[#21900])

==== Web - Config management

* Fixed: Broken technique indentation with jvm >= 12
    (https://issues.rudder.io/issues/21899[#21899])
* Fixed: Links in {directive|rule|group|technique} "tree" can not be open in a new tab
    (https://issues.rudder.io/issues/21373[#21373])

==== Agent

* Fixed: Epoch is displayed in agent version in webapp
    (https://issues.rudder.io/issues/21411[#21411])

==== Architecture - Dependencies

* Fixed: Update scala-lib version due to CVE2022-36944
    (https://issues.rudder.io/issues/21869[#21869])

==== System techniques

* Fixed: Missing report from the system update technique
    (https://issues.rudder.io/issues/21919[#21919])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Alexis TARUSSIO

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

==  Rudder 7.2.0 (2022-09-28)

=== Changes


==== Agent

* Add in the agent a feature to express that it support not sending syslog message
    (https://issues.rudder.io/issues/21771[#21771])
* Allow users to specify node hostname (FQDN)
    (https://issues.rudder.io/issues/8022[#8022])

==== Web - Campaigns

* Campaign events api should be sortable
    (https://issues.rudder.io/issues/21849[#21849])

==== CI

* Update dependency check for 7.2
    (https://issues.rudder.io/issues/21830[#21830])

==== Miscellaneous

* Add link to the documentation in the Hooks page
    (https://issues.rudder.io/issues/21791[#21791])

==== System integration

* add an option to select where to log in syslog
    (https://issues.rudder.io/issues/21778[#21778])

==== Generic methods

* Add an audit command generic method
    (https://issues.rudder.io/issues/21763[#21763])
* Precise the documentation of the condition_from_variable_match method
    (https://issues.rudder.io/issues/21744[#21744])
* Improve the command_execution documentation for windows
    (https://issues.rudder.io/issues/21734[#21734])
* Add documentation for package_present update cache
    (https://issues.rudder.io/issues/21412[#21412])

=== Bug fixes

==== Agent

* Fixed: When cf-serverd starts it can kill an unrelated process
    (https://issues.rudder.io/issues/21100[#21100])
* Fixed: Curl build for windows agents must support schannel backend
    (https://issues.rudder.io/issues/21760[#21760])
* Fixed: Broken report parsing when the key value contains line breaks
    (https://issues.rudder.io/issues/21736[#21736])
* Fixed: rudder agent check may not restart cf-execd if an agent is frozen
    (https://issues.rudder.io/issues/21774[#21774])

==== Documentation

* Fixed: Missing ubuntu 22.04 support in documentation
    (https://issues.rudder.io/issues/21721[#21721])
* Fixed: Wrong method for reload technique in API doc
    (https://issues.rudder.io/issues/21762[#21762])

==== Web - Campaigns

* Fixed: One shot schedule condition is invalid
    (https://issues.rudder.io/issues/21865[#21865])
* Fixed: Campaign json should be versionned
    (https://issues.rudder.io/issues/21811[#21811])
* Fixed: Switch campaign schedule from a duration to a end time
    (https://issues.rudder.io/issues/21792[#21792])
* Fixed: Allow to delete a campaign
    (https://issues.rudder.io/issues/21775[#21775])
* Fixed: Reschedule correctly campaign events when a campaign changes
    (https://issues.rudder.io/issues/21766[#21766])
* Fixed: Error on system update campaign technique on SLES 12
    (https://issues.rudder.io/issues/21867[#21867])

==== Web - UI & UX

* Fixed: colors of mixed mode doesn't match enforce and audit
    (https://issues.rudder.io/issues/21837[#21837])
* Fixed: Impossible to move groups
    (https://issues.rudder.io/issues/21755[#21755])
* Fixed: Added a warning icon in a rule details if no target has been selected 
    (https://issues.rudder.io/issues/21789[#21789])
* Fixed: Input Text disapear in technic editor when entering a space with Grammarly/LanguageTool extension
    (https://issues.rudder.io/issues/21172[#21172])
* Fixed: Add css code to generate datatable loading animation
    (https://issues.rudder.io/issues/21711[#21711])

==== Security

* Fixed: Remove Rudder version from login form
    (https://issues.rudder.io/issues/21816[#21816])

==== API

* Fixed: API version was not updated to API 15 for addition of node updates
    (https://issues.rudder.io/issues/21793[#21793])

==== Web - Config management

* Fixed: on a fresh 7.1 install, the number of group displayed for "Global configuration of all nodes" is invalid
    (https://issues.rudder.io/issues/21730[#21730])
* Fixed: No link to directives in a rule if the rule is not applied to some nodes
    (https://issues.rudder.io/issues/21371[#21371])
* Fixed: Archive import does regenerate policies
    (https://issues.rudder.io/issues/21707[#21707])

==== Miscellaneous

* Fixed: Switch to jsonb for campaign event state
    (https://issues.rudder.io/issues/21783[#21783])

==== Web - Technique editor

* Fixed: Cannot save a technique after removing a block
    (https://issues.rudder.io/issues/21768[#21768])
* Fixed: Report if condition and Environement_variable_present by default cause missing report
    (https://issues.rudder.io/issues/21752[#21752])
* Fixed: Methods markdown documentation in the technique editor are not properly rendered
    (https://issues.rudder.io/issues/21368[#21368])

==== System integration

* Fixed: Wrong type for state column for campaign events in migration script
    (https://issues.rudder.io/issues/21767[#21767])

==== Architecture - Internal libs

* Fixed: Syntax errors in scala files
    (https://issues.rudder.io/issues/21748[#21748])

==== Packaging

* Fixed: Cleanup cron job for relay not removed on upgrade ot 7.2
    (https://issues.rudder.io/issues/21714[#21714])

==== Techniques

* Fixed: Incorrect parsing of epoch in installed rpm
    (https://issues.rudder.io/issues/21872[#21872])

==== Relay server or API

* Fixed: Bad parsing of systemUpdate N/A report by relayd
    (https://issues.rudder.io/issues/21846[#21846])

==== Plugins integration

* Fixed: Bad parsing of date for system update python script
    (https://issues.rudder.io/issues/21844[#21844])

==== System techniques

* Fixed: relayd error in logs in 7.2
    (https://issues.rudder.io/issues/21777[#21777])

==== Generic methods

* Fixed: Improve the windows documentation for condition_from_command
    (https://issues.rudder.io/issues/21737[#21737])

=== Release notes

Special thanks go out to the following individuals who invested time, patience, testing, patches or bug reports to make this version of Rudder better:

* Janos Mattyasovszky

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

== Rudder 7.2.0.rc1 (2022-09-06)

=== Changes

==== Packaging

* reinstate rudder-webapp package
    (https://issues.rudder.io/issues/21645[#21645])
* Update Rust to 1.62.1
    (https://issues.rudder.io/issues/21440[#21440])

==== Agent

* Add a disable syslog option to cfengine
    (https://issues.rudder.io/issues/20449[#20449])

==== Documentation

* User documentation of archive import/export
    (https://issues.rudder.io/issues/21675[#21675])
* Document SLES15SP2 requirement
    (https://issues.rudder.io/issues/21676[#21676])
* Improve user management docs
    (https://issues.rudder.io/issues/21582[#21582])
* Mention that AIX is compatible with everything noted as "Linux"
    (https://issues.rudder.io/issues/21604[#21604])

==== Web - Campaigns

* Add reason field to disabled field in campains and campain events
    (https://issues.rudder.io/issues/21698[#21698])

==== Plugins integration

* rudder package install can install plugins with short name but cannot remove them
    (https://issues.rudder.io/issues/21318[#21318])

==== Miscellaneous

* New parameter to campaign event request
    (https://issues.rudder.io/issues/21618[#21618])

==== Security

* Skip CVE-2022-31197 in checks
    (https://issues.rudder.io/issues/21602[#21602])

==== Architecture - Internal libs

* Make campaign test work
    (https://issues.rudder.io/issues/21539[#21539])
* Port policy writting test to rudder 7.1
    (https://issues.rudder.io/issues/21477[#21477])

==== Techniques

* Update techniques conditions for rhel9
    (https://issues.rudder.io/issues/21588[#21588])

==== System techniques

* Cleanup system-update files
    (https://issues.rudder.io/issues/21414[#21414])

==== Generic methods

* package method leads to report error when package with non-zero epoch is updated
    (https://issues.rudder.io/issues/19033[#19033])

=== Bug fixes

==== System integration

* Fixed: Postresql not found during migration to 7.2 => missing reports
    (https://issues.rudder.io/issues/21705[#21705])
* Fixed: Postresql not found during migration to 7.2 => missing reports
    (https://issues.rudder.io/issues/21705[#21705])
* Fixed: Correct BOM file in ps1.st used in test
    (https://issues.rudder.io/issues/21498[#21498])

==== Packaging

* Fixed: Missing dependency on libpq for relay on centos9
    (https://issues.rudder.io/issues/21674[#21674])
* Fixed: Uprading relay to 7.2 fails on ubuntu 22
    (https://issues.rudder.io/issues/21640[#21640])
* Fixed: Postinst message on AIX about hostname rudder not found
    (https://issues.rudder.io/issues/21626[#21626])
* Fixed: error when installing Rudder 7.2 on ubuntu22
    (https://issues.rudder.io/issues/21422[#21422])
* Fixed: rudder-relayd fails to uninstall properly
    (https://issues.rudder.io/issues/21581[#21581])
* Fixed: upgrading to 7.2 on centos 8 fails
    (https://issues.rudder.io/issues/21561[#21561])
* Fixed: Missing dependency on gpg breaks "rudder package" command fails on minimal installs
    (https://issues.rudder.io/issues/21061[#21061])
* Fixed: Error when installing Rudder server 7.2 on debian 11
    (https://issues.rudder.io/issues/21487[#21487])

==== Server components

* Fixed: Apache conf files are not overwritten after update
    (https://issues.rudder.io/issues/21583[#21583])

==== Agent

* Fixed: Inventory hostname differ between Windows and Linux
    (https://issues.rudder.io/issues/21356[#21356])
* Fixed: rudder package command fails on amazon linux
    (https://issues.rudder.io/issues/21654[#21654])
* Fixed: Properly display report_json reports in agent output
    (https://issues.rudder.io/issues/21622[#21622])
* Fixed: Deprecation warning with package methods on Ubuntu 22.04 LTS
    (https://issues.rudder.io/issues/21206[#21206])

==== Documentation

* Fixed: Installation documentation for Server has a section about sles12 but we only support sles15 as of 7.0
    (https://issues.rudder.io/issues/21420[#21420])
* Fixed: Add operation docs for webapp
    (https://issues.rudder.io/issues/21578[#21578])
* Fixed: Document 7.2 changes
    (https://issues.rudder.io/issues/21575[#21575])
* Fixed: Finish updating the docs for 7.2
    (https://issues.rudder.io/issues/21548[#21548])
* Fixed: Node create api doc for properties is incorrect
    (https://issues.rudder.io/issues/21553[#21553])
* Fixed: improve contributing doc to state how to generate inventories
    (https://issues.rudder.io/issues/21476[#21476])

==== Web - Config management

* Fixed: missing list of inpacted rules when creating a directive and applying it to a rule
    (https://issues.rudder.io/issues/21671[#21671])
* Fixed: Group permission of policies is not correctly set anymore in 7.2
    (https://issues.rudder.io/issues/21695[#21695])
* Fixed: generated policies are invalid when using a generic method that doesn't exist on linux
    (https://issues.rudder.io/issues/21686[#21686])
* Fixed: Impossible to log in when login in rudder-users.xml contains uppercase chars and login are case-insensitive
    (https://issues.rudder.io/issues/21532[#21532])
* Fixed: Extra spacing when adding several lines with File-Content generic method
    (https://issues.rudder.io/issues/21611[#21611])
* Fixed: Create a migration script for campaign
    (https://issues.rudder.io/issues/21571[#21571])
* Fixed: Concurrent delete of policy backup directory can lead to useless error
    (https://issues.rudder.io/issues/21482[#21482])
* Fixed: rudder don't understand the new reports generated for system update
    (https://issues.rudder.io/issues/21435[#21435])

==== API

* Fixed: API documentation on how to query node is invalid
    (https://issues.rudder.io/issues/21690[#21690])
* Fixed: Broken archive example in API doc
    (https://issues.rudder.io/issues/21664[#21664])
* Fixed: Missing import API documentation
    (https://issues.rudder.io/issues/21531[#21531])

==== Web - UI & UX

* Fixed: rollback button in even log can be clicked several time in a row and error are stacked in other screens
    (https://issues.rudder.io/issues/21429[#21429])
* Fixed: Node certificate expiration date does not follow the same format than the others dates in the UI
    (https://issues.rudder.io/issues/21367[#21367])
* Fixed: Graph caption is ugly for overall compliance in dashboard
    (https://issues.rudder.io/issues/21652[#21652])
* Fixed: Delete group category popup and directive creation popup are not closing
    (https://issues.rudder.io/issues/21666[#21666])
* Fixed: dashboards widget are not correctly aligned
    (https://issues.rudder.io/issues/21416[#21416])
* Fixed: Broken display of nodes list footer
    (https://issues.rudder.io/issues/21256[#21256])
* Fixed: Empty dashboard text does not look good
    (https://issues.rudder.io/issues/21634[#21634])
* Fixed: Wrong button color in techniques tree
    (https://issues.rudder.io/issues/21529[#21529])
* Fixed: Most buttons with the new Rudder color briefly show their old color when clicked
    (https://issues.rudder.io/issues/21258[#21258])
* Fixed: when validating change in directive, a popup appear, but the background is only half grayed out
    (https://issues.rudder.io/issues/18575[#18575])
* Fixed: when validating change in directive, a popup appear, but the background is only half grayed out
    (https://issues.rudder.io/issues/18575[#18575])
* Fixed: Orange color of hovered links
    (https://issues.rudder.io/issues/21528[#21528])
* Fixed: once we setup the Rudder server, we have an option to go to the getting started... which doesn't work
    (https://issues.rudder.io/issues/21488[#21488])
* Fixed: Filter in URL doest work on tab list of nodes
    (https://issues.rudder.io/issues/21558[#21558])
* Fixed: Make the css code for the group selection interface globally accessible.
    (https://issues.rudder.io/issues/21480[#21480])
* Fixed: Refresh Button in Rules menu under Directives Tab is not working
    (https://issues.rudder.io/issues/21264[#21264])

==== Web - Campaigns

* Fixed: Add a name parameter to campaign event
    (https://issues.rudder.io/issues/21662[#21662])
* Fixed: Initialization of campaign blocks rudder
    (https://issues.rudder.io/issues/21523[#21523])
* Fixed: Campaign scheduler seems to not look for existing campaign at boot
    (https://issues.rudder.io/issues/21418[#21418])

==== Web - Nodes & inventories

* Fixed: Rudder agent version is not detected for windows on pending nodes in 7.2
    (https://issues.rudder.io/issues/21667[#21667])
* Fixed: when we receive a lot of inventories at once, not all are processed
    (https://issues.rudder.io/issues/21653[#21653])
* Fixed: Cannot edit/detele an empty group category
    (https://issues.rudder.io/issues/21599[#21599])
* Fixed: 502 - Proxy Error when triggering Rudder agent
    (https://issues.rudder.io/issues/21170[#21170])
* Fixed: error when processing inventories in 7.2
    (https://issues.rudder.io/issues/21423[#21423])

==== Miscellaneous

* Fixed: Shared files cleanup does not work
    (https://issues.rudder.io/issues/21641[#21641])
* Fixed: Campaign events are not put in queue again after a new handler service was added, hence they are not treated after boot
    (https://issues.rudder.io/issues/21621[#21621])
* Fixed: Schedule campaign event when saving a new campaign
    (https://issues.rudder.io/issues/21470[#21470])
* Fixed: Improve handling of certificates not matching the key
    (https://issues.rudder.io/issues/21616[#21616])

==== Web - Compliance & node report

* Fixed: no compliance details on dashboard on 7.2
    (https://issues.rudder.io/issues/21432[#21432])

==== Web - Technique editor

* Fixed: When we change the status of a technique parameter from required to may be empty, it returns to required after saving
    (https://issues.rudder.io/issues/21560[#21560])
* Fixed: result condition are not correct in the technique editor when using properties or variables
    (https://issues.rudder.io/issues/21515[#21515])
* Fixed: Cannot delete technique in the technique editor if it contains a space in its name
    (https://issues.rudder.io/issues/21491[#21491])
* Fixed: Adapt webapp policy generation to 7.2 technique syntax
    (https://issues.rudder.io/issues/21502[#21502])
* Fixed: technique from technique editor not commited in git
    (https://issues.rudder.io/issues/21430[#21430])

==== Relay server or API

* Fixed: Potential segfault in chrono
    (https://issues.rudder.io/issues/21555[#21555])
* Fixed: Unsoundness in "owning_ref"
    (https://issues.rudder.io/issues/21538[#21538])

==== Architecture - Internal libs

* Fixed: Some tests not run because of bad class name
    (https://issues.rudder.io/issues/21534[#21534])
* Fixed: Path.of is not available in java8/rudder 7.1
    (https://issues.rudder.io/issues/21524[#21524])

==== CI

* Fixed: Fix qa-test for 7.2
    (https://issues.rudder.io/issues/21522[#21522])

==== Performance and scalability

* Fixed: Improve group node computation
    (https://issues.rudder.io/issues/20758[#20758])
* Fixed: API to fetch nodes + software times out on large instance
    (https://issues.rudder.io/issues/21241[#21241])

==== Security

* Fixed: Update bouncycastle for 7.2
    (https://issues.rudder.io/issues/21492[#21492])
* Fixed: URL with "%3B" (ie ';') leads to a stacktrace
    (https://issues.rudder.io/issues/21463[#21463])
* Fixed: JSESSIONID cookie should have a SameSite policy
    (https://issues.rudder.io/issues/21445[#21445])
* Fixed: Add HSTS config (commented for now)
    (https://issues.rudder.io/issues/21438[#21438])

==== Techniques

* Fixed: extra & at the end of systemUpdate technique
    (https://issues.rudder.io/issues/21703[#21703])
* Fixed: Fix the reporting and logging of the snmp technique on windows
    (https://issues.rudder.io/issues/21684[#21684])
* Fixed: Migrate the snmp windows technique to the 7.2 syntax
    (https://issues.rudder.io/issues/21673[#21673])
* Fixed: Migrate the motdConfiguration windows technique to the 7.2 syntax
    (https://issues.rudder.io/issues/21657[#21657])
* Fixed:  Migrate the fileTemplate windows technique to the 7.2 syntax
    (https://issues.rudder.io/issues/21655[#21655])
* Fixed: Migrate the copyFileFromSharedFolder windows technique to the 7.2 syntax
    (https://issues.rudder.io/issues/21651[#21651])
* Fixed: Port userManagement dsc technique to the new format
    (https://issues.rudder.io/issues/21609[#21609])
* Fixed: cron configuration restarts cron every 5 minutes on ubuntu22
    (https://issues.rudder.io/issues/21600[#21600])
* Fixed: error in system update technique on ubuntu 22.04
    (https://issues.rudder.io/issues/21434[#21434])
* Fixed: system-update technique output bogus "python" which breaks reporting
    (https://issues.rudder.io/issues/21436[#21436])

==== System techniques

* Fixed: Make system update campaign technique system
    (https://issues.rudder.io/issues/21701[#21701])
* Fixed: Permissions are not preserved in shared-files on the relays
    (https://issues.rudder.io/issues/21617[#21617])
* Fixed: Wrong name use for campaign in report (should not canonify)
    (https://issues.rudder.io/issues/21619[#21619])
* Fixed: Broken reload command in apache logrotate configuration
    (https://issues.rudder.io/issues/21612[#21612])

==== Generic methods

* Fixed: Broken jinja2 templating on ubuntu 22.04
    (https://issues.rudder.io/issues/21606[#21606])
* Fixed: rudder agent run man git-stash
    (https://issues.rudder.io/issues/21525[#21525])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.


== Rudder 7.2.0.beta1 (2022-07-18)

=== Changes


==== Packaging

* Add rhel9 support to packages
    (https://issues.rudder.io/issues/21357[#21357])
* Update C dependencies
    (https://issues.rudder.io/issues/21141[#21141])
* Make Java 11 the minimal required version
    (https://issues.rudder.io/issues/21109[#21109])
* Create a new rudder-server package
    (https://issues.rudder.io/issues/21084[#21084])
* Update to Rust 1.61.0 and update dependencies
    (https://issues.rudder.io/issues/21139[#21139])
* Minify the javascript produced by elm
    (https://issues.rudder.io/issues/21133[#21133])
* Cleanup methods (ncf) repository
    (https://issues.rudder.io/issues/21266[#21266])

==== Performance and scalability

* Add an ldap index on nodeId to improve performance
    (https://issues.rudder.io/issues/21246[#21246])
* Add an ldap index on softwareId to improve software queries performance
    (https://issues.rudder.io/issues/21244[#21244])

==== Documentation

* Prepare doc for 7.2
    (https://issues.rudder.io/issues/21407[#21407])
* Add docs about F# dev environment
    (https://issues.rudder.io/issues/21259[#21259])

==== Web - Config management

* Add logic to handle campaign within Rudder
    (https://issues.rudder.io/issues/21383[#21383])

==== API

* Add an API endpoint to export rules, directives, techniques, groups and their dependencies in an archive
    (https://issues.rudder.io/issues/21247[#21247])
* Moving create node plugin into Rudder
    (https://issues.rudder.io/issues/21117[#21117])

==== Plugins integration

* Allow "rudder package" command install multiple plugins at once
    (https://issues.rudder.io/issues/21316[#21316])

==== Web - UI & UX

*  Rename "classic" and "DSC" agents to "Linux" et "Windows"
    (https://issues.rudder.io/issues/21238[#21238])
* Update the css template for the integration of the system update campaigns plugin
    (https://issues.rudder.io/issues/21348[#21348])
* Provide a page to list the different hooks of a Rudder server
    (https://issues.rudder.io/issues/21083[#21083])
* Allow plugins to have multiple menu entries
    (https://issues.rudder.io/issues/21319[#21319])
* Upgrade Bootstrap to 3.4.1
    (https://issues.rudder.io/issues/21221[#21221])
* Harmonise the color scheme used in Rudder
    (https://issues.rudder.io/issues/21099[#21099])
* Update Javascript dependencies 
    (https://issues.rudder.io/issues/21149[#21149])
* Update the dashboard design with the new graphic charter
    (https://issues.rudder.io/issues/21072[#21072])

==== System integration

* Allow overriding rudder-web.properties parameters with files in rudder-web.properties.d
    (https://issues.rudder.io/issues/21293[#21293])

==== Web - Nodes & inventories

* Change default behavior from moving node inventories to archive branch to erasing them
    (https://issues.rudder.io/issues/21330[#21330])
* root inventory is missing and need to be resent after install
    (https://issues.rudder.io/issues/19920[#19920])

==== Relay server or API

* Allow passing options to postgresql connection URL
    (https://issues.rudder.io/issues/21201[#21201])
* Cleanup relayd tests
    (https://issues.rudder.io/issues/21155[#21155])
* Move shared-files purge from crond to a task in relayd
    (https://issues.rudder.io/issues/21047[#21047])

==== Architecture - Dependencies

* Update scala dependencies
    (https://issues.rudder.io/issues/21102[#21102])

==== Web - Compliance & node report

* Use a unique id to identify reports
    (https://issues.rudder.io/issues/20747[#20747])

==== System techniques

* Add a technique for campaign-based system-update
    (https://issues.rudder.io/issues/21297[#21297])

=== Bug fixes

==== Security

* Fixed: Update embedded openssl to 1.1.1q
    (https://issues.rudder.io/issues/21360[#21360])
* Fixed: Update spring and logback version because of new CVE
    (https://issues.rudder.io/issues/21022[#21022])

==== Packaging

* Fixed: Java does not default to 11 even if it is installed
    (https://issues.rudder.io/issues/21301[#21301])
* Fixed: Disable dwz as it fails on some rudder-relayd binaries on Debian 10
    (https://issues.rudder.io/issues/21275[#21275])
* Fixed: Upgrade to Jetty 10
    (https://issues.rudder.io/issues/21137[#21137])

==== Documentation

* Fixed: Prepare 7.1 doc
    (https://issues.rudder.io/issues/20794[#20794])
* Fixed: Some reponses are missing in technique api doc
    (https://issues.rudder.io/issues/21304[#21304])
* Fixed: Fix typos in techniques API doc
    (https://issues.rudder.io/issues/21290[#21290])

==== Web - Config management

* Fixed: Links to rules inside a directive webpage redirect to the general rule webpage
    (https://issues.rudder.io/issues/21372[#21372])
* Fixed: Reports on method using iterator are wrong in the cli output
    (https://issues.rudder.io/issues/20603[#20603])

==== CI

* Fixed: Ignore rudder-lang repos in script checks
    (https://issues.rudder.io/issues/21364[#21364])

==== Miscellaneous

* Fixed: Remove unused variable newCall in JRTechniqueElem
    (https://issues.rudder.io/issues/21355[#21355])

==== Web - Compliance & node report

* Fixed: In HTTPS mode, we may have errors in logs about duplicate messages that are totally legit
    (https://issues.rudder.io/issues/21352[#21352])

==== Server components

* Fixed: Missing comment in configuration.properties.sample
    (https://issues.rudder.io/issues/21350[#21350])

==== Web - UI & UX

* Fixed: Impossible to put a Rule in a subcategory
    (https://issues.rudder.io/issues/21175[#21175])
* Fixed: Cancel button not showed within disable rule menu 
    (https://issues.rudder.io/issues/21171[#21171])

==== Architecture - Refactoring

* Fixed: Tests fail due to policy mode definition in MockServices
    (https://issues.rudder.io/issues/21336[#21336])

==== Web - Technique editor

* Fixed: we can add carriage return in the condition in technique editor
    (https://issues.rudder.io/issues/21126[#21126])

==== Web - Nodes & inventories

* Fixed: Using '{' in node property lead to error
    (https://issues.rudder.io/issues/21322[#21322])

==== rudderc

* Fixed: Improve rudderc testing system
    (https://issues.rudder.io/issues/21048[#21048])

=== Release notes

This is a bug fix release in the 7.2 series and therefore all installations of 7.2.x should be upgraded when possible. When we release a new version of Rudder it has been thoroughly tested, and we consider the release enterprise-ready for deployment.

= Change logs for Rudder 7.2
